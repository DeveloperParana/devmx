<header class="accounts-header">
  <devmx-account-search (valueChange)="onFilterChange($event)" />
</header>

@if (authFacade.user$ | async; as authUser) {
<!--  -->
@if (accountFacade.accounts$ | async; as accounts) {

<div class="accounts-container">
  @for (account of accounts.data; track account.id) {

  <devmx-account-card [data]="account">
    <button
      mat-button
      [disabled]="authUser.id === account.id"
      (click)="openRoles(authUser, account)"
    >
      Permiss√µes
    </button>
    <button
      mat-icon-button
      [disabled]="authUser.id === account.id"
      (click)="openDelete(account)"
    >
      <devmx-icon name="trash" />
    </button>
  </devmx-account-card>

  }
</div>

<devmx-paginator
  [size]="10"
  [items]="accounts.items"
  (pageChange)="onPageChange($event)"
/>
}
<!--  -->
}

import { SendMail } from '@devmx/shared-api-interfaces/server';

export function createMail(
  to: string,
  html: string,
  subject = `DevParana.mx`,
  from = 'nao-responder@devparana.mx'
) {
  subject = subject === 'DevParana.mx' ? subject : `${subject} - DevParana.mx`;

  return { from, to, subject, html };
}

export type CreateMailTemplateOptions = Omit<
  SendMail,
  'to' | 'html' | 'subject'
> & {
  withFooter?: boolean;
};

export function createMailTemplate(
  to: string,
  html: string,
  subject = `DevParana.mx`,
  extraOptions: CreateMailTemplateOptions = { }
): SendMail {
  const logo = `
    <svg width="123" height="46" viewBox="0 0 123 46" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M42.7406 29.652C42.7406 29.652 40.0166 23.7628 37.2476 20.3267C34.4768 16.8893 31.0931 13.1462 29.0924 13.1462C27.0929 13.1462 21.5032 23.0432 18.939 23.0432C16.3741 23.0432 14.6961 18.5568 11.8877 18.5568C8.73311 18.5568 3.72127 29.3755 3.72127 29.3755C3.41586 30.0748 3.2923 30.4716 3.38179 31.2096C3.38179 31.2096 5.12292 38.9292 23.3386 38.9292C41.5549 38.9292 43.0108 31.3363 43.0108 31.3363C43.1051 30.6572 43.037 30.2893 42.7406 29.652Z" fill="#3BCE53"/>
      <path d="M19.2241 27.2668C16.3953 27.2668 14.945 24.4754 14.1587 22.7524C13.4516 21.2003 12.9843 18.7497 11.3229 18.681C11.5202 18.603 11.7099 18.5568 11.8877 18.5568C14.6961 18.5568 16.3741 23.0432 18.9389 23.0432C21.5032 23.0432 27.0929 13.1462 29.0924 13.1462C29.4693 13.1462 29.8937 13.2792 30.3542 13.5157C30.0135 13.4708 29.5767 13.5019 29.2403 13.8396C28.5938 14.4861 22.7264 27.2668 19.2241 27.2668Z" fill="#39B44D"/>
      <path d="M23.054 4.15088C10.7201 4.15088 1.05716 19.5553 0.142914 32.8091C4.01333 39.5265 13.3467 42.0515 23.054 42.0515C32.7606 42.0515 42.0947 39.5265 45.9632 32.8091C45.049 19.5553 35.3873 4.15088 23.054 4.15088Z" fill="url(#paint0_radial_898_22921)" fill-opacity="0.3"/>
      <path d="M56.016 27V10.2H63.528C64.664 10.2 65.648 10.424 66.48 10.872C67.328 11.304 67.984 11.912 68.448 12.696C68.912 13.48 69.144 14.392 69.144 15.432C69.144 16.424 68.912 17.312 68.448 18.096C67.984 18.88 67.328 19.496 66.48 19.944C65.648 20.376 64.664 20.592 63.528 20.592H58.896V27H56.016ZM58.896 18.24H63.072C64.096 18.24 64.88 17.984 65.424 17.472C65.968 16.944 66.24 16.256 66.24 15.408C66.24 14.576 65.968 13.912 65.424 13.416C64.88 12.904 64.104 12.648 63.096 12.648H58.896V18.24ZM76.3869 27.216C75.2509 27.216 74.2189 26.944 73.2909 26.4C72.3789 25.856 71.6589 25.12 71.1309 24.192C70.6029 23.248 70.3389 22.184 70.3389 21C70.3389 19.816 70.6029 18.76 71.1309 17.832C71.6589 16.888 72.3789 16.144 73.2909 15.6C74.2029 15.056 75.2349 14.784 76.3869 14.784C77.5389 14.784 78.5629 15.056 79.4589 15.6C80.3709 16.144 81.0909 16.888 81.6189 17.832C82.1469 18.76 82.4109 19.816 82.4109 21C82.4109 22.184 82.1469 23.248 81.6189 24.192C81.0909 25.12 80.3709 25.856 79.4589 26.4C78.5629 26.944 77.5389 27.216 76.3869 27.216ZM76.3869 24.912C77.0429 24.912 77.6189 24.744 78.1149 24.408C78.6269 24.072 79.0269 23.608 79.3149 23.016C79.6029 22.408 79.7469 21.736 79.7469 21C79.7469 20.248 79.6029 19.584 79.3149 19.008C79.0269 18.416 78.6269 17.952 78.1149 17.616C77.6189 17.264 77.0429 17.088 76.3869 17.088C75.7309 17.088 75.1469 17.264 74.6349 17.616C74.1229 17.952 73.7229 18.416 73.4349 19.008C73.1469 19.584 73.0029 20.248 73.0029 21C73.0029 21.752 73.1469 22.424 73.4349 23.016C73.7229 23.608 74.1229 24.072 74.6349 24.408C75.1469 24.744 75.7309 24.912 76.3869 24.912ZM85.2113 27V14.976H87.9233V17.568C88.2753 16.656 88.7313 15.96 89.2913 15.48C89.8513 15 90.4993 14.76 91.2353 14.76C91.4753 14.776 91.6833 14.8 91.8593 14.832C92.0353 14.848 92.2193 14.904 92.4113 15V17.376C92.2033 17.28 91.9633 17.208 91.6913 17.16C91.4353 17.112 91.1793 17.088 90.9233 17.088C90.2673 17.088 89.6753 17.264 89.1473 17.616C88.6353 17.968 88.2273 18.456 87.9233 19.08V27H85.2113ZM99.8171 27.24C98.6011 27.24 97.6811 26.96 97.0571 26.4C96.4331 25.824 96.1211 24.984 96.1211 23.88V17.136H93.7211V14.976H96.1211V11.664L98.8331 11.088V14.976H102.193V17.136H98.8331V23.28C98.8331 23.872 98.9611 24.296 99.2171 24.552C99.4891 24.792 99.9211 24.912 100.513 24.912C100.785 24.912 101.033 24.896 101.257 24.864C101.497 24.816 101.793 24.736 102.145 24.624V26.904C101.809 27.016 101.425 27.096 100.993 27.144C100.577 27.208 100.185 27.24 99.8171 27.24ZM108.219 27.216C107.387 27.216 106.643 27.064 105.987 26.76C105.347 26.44 104.843 26.008 104.475 25.464C104.123 24.904 103.947 24.264 103.947 23.544C103.947 22.824 104.131 22.2 104.499 21.672C104.883 21.144 105.419 20.736 106.107 20.448C106.795 20.16 107.611 20.016 108.555 20.016C109.115 20.016 109.667 20.08 110.211 20.208C110.755 20.32 111.283 20.512 111.795 20.784V19.44C111.795 18.64 111.563 18.04 111.099 17.64C110.651 17.24 109.963 17.04 109.035 17.04C108.539 17.04 108.003 17.12 107.427 17.28C106.867 17.424 106.235 17.656 105.531 17.976L104.571 16.008C106.331 15.192 107.995 14.784 109.563 14.784C111.131 14.784 112.339 15.168 113.187 15.936C114.051 16.688 114.483 17.76 114.483 19.152V27H111.795V25.752C111.283 26.248 110.731 26.616 110.139 26.856C109.547 27.096 108.907 27.216 108.219 27.216ZM106.491 23.496C106.491 24.056 106.715 24.496 107.163 24.816C107.611 25.136 108.211 25.296 108.963 25.296C109.507 25.296 110.011 25.216 110.475 25.056C110.955 24.88 111.395 24.624 111.795 24.288V22.344C111.379 22.152 110.947 22.008 110.499 21.912C110.051 21.816 109.563 21.768 109.035 21.768C108.251 21.768 107.627 21.92 107.163 22.224C106.715 22.528 106.491 22.952 106.491 23.496ZM117.766 27V9.792L120.478 9.312V27H117.766Z" fill="#404F55"/>
      <path d="M56.73 39.05C56.31 39.05 55.93 38.9367 55.59 38.71C55.25 38.4767 54.9767 38.17 54.77 37.79C54.57 37.4033 54.47 36.9733 54.47 36.5C54.47 36.02 54.5733 35.59 54.78 35.21C54.9867 34.8233 55.2667 34.5167 55.62 34.29C55.98 34.0633 56.3767 33.95 56.81 33.95C57.0967 33.95 57.3633 34.0067 57.61 34.12C57.8633 34.2267 58.0833 34.3867 58.27 34.6V31.83L59.4 31.63V39H58.28V38.34C58.1 38.5667 57.8767 38.7433 57.61 38.87C57.3433 38.99 57.05 39.05 56.73 39.05ZM57.08 38.1C57.32 38.1 57.5433 38.0533 57.75 37.96C57.9567 37.86 58.13 37.7233 58.27 37.55V35.44C58.1233 35.2667 57.9467 35.1333 57.74 35.04C57.5333 34.9467 57.3133 34.9 57.08 34.9C56.7933 34.9 56.5367 34.97 56.31 35.11C56.09 35.2433 55.9133 35.43 55.78 35.67C55.6467 35.91 55.58 36.1867 55.58 36.5C55.58 36.8 55.6467 37.0733 55.78 37.32C55.9133 37.56 56.09 37.75 56.31 37.89C56.5367 38.03 56.7933 38.1 57.08 38.1ZM63.2335 39.1C62.7535 39.1 62.3202 38.9867 61.9335 38.76C61.5468 38.5267 61.2402 38.2167 61.0135 37.83C60.7868 37.4367 60.6735 36.9933 60.6735 36.5C60.6735 36.0067 60.7802 35.5667 60.9935 35.18C61.2068 34.7933 61.4968 34.4867 61.8635 34.26C62.2368 34.0267 62.6502 33.91 63.1035 33.91C63.5702 33.91 63.9802 34.0233 64.3335 34.25C64.6935 34.4767 64.9735 34.7833 65.1735 35.17C65.3802 35.5567 65.4835 36 65.4835 36.5V36.77H61.7835C61.8235 37.0433 61.9102 37.2867 62.0435 37.5C62.1835 37.7067 62.3602 37.87 62.5735 37.99C62.7935 38.11 63.0302 38.17 63.2835 38.17C63.5168 38.17 63.7368 38.13 63.9435 38.05C64.1568 37.9633 64.3335 37.8467 64.4735 37.7L65.2135 38.37C64.9068 38.6233 64.5935 38.81 64.2735 38.93C63.9602 39.0433 63.6135 39.1 63.2335 39.1ZM61.7935 36.07H64.4135C64.3735 35.83 64.2902 35.6167 64.1635 35.43C64.0435 35.2433 63.8902 35.0967 63.7035 34.99C63.5235 34.8833 63.3235 34.83 63.1035 34.83C62.8835 34.83 62.6802 34.8833 62.4935 34.99C62.3135 35.09 62.1635 35.2333 62.0435 35.42C61.9235 35.6067 61.8402 35.8233 61.7935 36.07ZM68.0395 39L65.9995 33.99H67.2295L68.6295 37.63L70.0195 33.99H71.1995L69.1395 39H68.0395ZM72.1094 41.09V33.99H73.2194V34.7C73.3994 34.46 73.6227 34.2767 73.8894 34.15C74.1627 34.0167 74.4594 33.95 74.7794 33.95C75.206 33.95 75.5894 34.0633 75.9294 34.29C76.2694 34.5167 76.5394 34.8233 76.7394 35.21C76.9394 35.5967 77.0394 36.0267 77.0394 36.5C77.0394 36.9733 76.936 37.4033 76.7294 37.79C76.5227 38.1767 76.2427 38.4833 75.8894 38.71C75.536 38.9367 75.1427 39.05 74.7094 39.05C74.4094 39.05 74.1327 38.9967 73.8794 38.89C73.6327 38.7767 73.4194 38.6167 73.2394 38.41V41.09H72.1094ZM74.4394 38.11C74.726 38.11 74.9794 38.04 75.1994 37.9C75.426 37.76 75.6027 37.57 75.7294 37.33C75.8627 37.0833 75.9294 36.8067 75.9294 36.5C75.9294 36.1933 75.8627 35.92 75.7294 35.68C75.6027 35.44 75.426 35.25 75.1994 35.11C74.9794 34.97 74.726 34.9 74.4394 34.9C74.1927 34.9 73.966 34.95 73.7594 35.05C73.5527 35.1433 73.3794 35.28 73.2394 35.46V37.55C73.386 37.7233 73.5627 37.86 73.7694 37.96C73.976 38.06 74.1994 38.11 74.4394 38.11ZM79.8915 39.09C79.5448 39.09 79.2348 39.0267 78.9615 38.9C78.6948 38.7667 78.4848 38.5867 78.3315 38.36C78.1848 38.1267 78.1115 37.86 78.1115 37.56C78.1115 37.26 78.1882 37 78.3415 36.78C78.5015 36.56 78.7248 36.39 79.0115 36.27C79.2982 36.15 79.6382 36.09 80.0315 36.09C80.2648 36.09 80.4948 36.1167 80.7215 36.17C80.9482 36.2167 81.1682 36.2967 81.3815 36.41V35.85C81.3815 35.5167 81.2848 35.2667 81.0915 35.1C80.9048 34.9333 80.6182 34.85 80.2315 34.85C80.0248 34.85 79.8015 34.8833 79.5615 34.95C79.3282 35.01 79.0648 35.1067 78.7715 35.24L78.3715 34.42C79.1048 34.08 79.7982 33.91 80.4515 33.91C81.1048 33.91 81.6082 34.07 81.9615 34.39C82.3215 34.7033 82.5015 35.15 82.5015 35.73V39H81.3815V38.48C81.1682 38.6867 80.9382 38.84 80.6915 38.94C80.4448 39.04 80.1782 39.09 79.8915 39.09ZM79.1715 37.54C79.1715 37.7733 79.2648 37.9567 79.4515 38.09C79.6382 38.2233 79.8882 38.29 80.2015 38.29C80.4282 38.29 80.6382 38.2567 80.8315 38.19C81.0315 38.1167 81.2148 38.01 81.3815 37.87V37.06C81.2082 36.98 81.0282 36.92 80.8415 36.88C80.6548 36.84 80.4515 36.82 80.2315 36.82C79.9048 36.82 79.6448 36.8833 79.4515 37.01C79.2648 37.1367 79.1715 37.3133 79.1715 37.54ZM83.9695 39V33.99H85.0995V35.07C85.2462 34.69 85.4362 34.4 85.6695 34.2C85.9029 34 86.1729 33.9 86.4795 33.9C86.5729 33.9067 86.6562 33.9167 86.7295 33.93C86.8029 33.9367 86.8829 33.96 86.9695 34V34.99C86.8829 34.95 86.7829 34.92 86.6695 34.9C86.5629 34.88 86.4562 34.87 86.3495 34.87C86.0762 34.87 85.8295 34.9433 85.6095 35.09C85.3962 35.2367 85.2262 35.44 85.0995 35.7V39H83.9695ZM89.3591 39.09C89.0124 39.09 88.7024 39.0267 88.4291 38.9C88.1624 38.7667 87.9524 38.5867 87.7991 38.36C87.6524 38.1267 87.5791 37.86 87.5791 37.56C87.5791 37.26 87.6557 37 87.8091 36.78C87.9691 36.56 88.1924 36.39 88.4791 36.27C88.7657 36.15 89.1057 36.09 89.4991 36.09C89.7324 36.09 89.9624 36.1167 90.1891 36.17C90.4157 36.2167 90.6357 36.2967 90.8491 36.41V35.85C90.8491 35.5167 90.7524 35.2667 90.5591 35.1C90.3724 34.9333 90.0857 34.85 89.6991 34.85C89.4924 34.85 89.2691 34.8833 89.0291 34.95C88.7957 35.01 88.5324 35.1067 88.2391 35.24L87.8391 34.42C88.5724 34.08 89.2657 33.91 89.9191 33.91C90.5724 33.91 91.0757 34.07 91.4291 34.39C91.7891 34.7033 91.9691 35.15 91.9691 35.73V39H90.8491V38.48C90.6357 38.6867 90.4057 38.84 90.1591 38.94C89.9124 39.04 89.6457 39.09 89.3591 39.09ZM88.6391 37.54C88.6391 37.7733 88.7324 37.9567 88.9191 38.09C89.1057 38.2233 89.3557 38.29 89.6691 38.29C89.8957 38.29 90.1057 38.2567 90.2991 38.19C90.4991 38.1167 90.6824 38.01 90.8491 37.87V37.06C90.6757 36.98 90.4957 36.92 90.3091 36.88C90.1224 36.84 89.9191 36.82 89.6991 36.82C89.3724 36.82 89.1124 36.8833 88.9191 37.01C88.7324 37.1367 88.6391 37.3133 88.6391 37.54ZM93.4371 39V33.99H94.5671V34.81C94.7604 34.51 94.9904 34.2867 95.2571 34.14C95.5238 33.9867 95.8204 33.91 96.1471 33.91C96.4938 33.91 96.7971 33.9867 97.0571 34.14C97.3171 34.2867 97.5204 34.4933 97.6671 34.76C97.8204 35.0267 97.8971 35.34 97.8971 35.7V39H96.7571V36.02C96.7571 35.6533 96.6571 35.3633 96.4571 35.15C96.2571 34.93 95.9904 34.82 95.6571 34.82C95.4304 34.82 95.2238 34.8733 95.0371 34.98C94.8571 35.08 94.7004 35.23 94.5671 35.43V39H93.4371ZM100.877 39.09C100.531 39.09 100.221 39.0267 99.9474 38.9C99.6808 38.7667 99.4708 38.5867 99.3174 38.36C99.1708 38.1267 99.0974 37.86 99.0974 37.56C99.0974 37.26 99.1741 37 99.3274 36.78C99.4874 36.56 99.7108 36.39 99.9974 36.27C100.284 36.15 100.624 36.09 101.017 36.09C101.251 36.09 101.481 36.1167 101.707 36.17C101.934 36.2167 102.154 36.2967 102.367 36.41V35.85C102.367 35.5167 102.271 35.2667 102.077 35.1C101.891 34.9333 101.604 34.85 101.217 34.85C101.011 34.85 100.787 34.8833 100.547 34.95C100.314 35.01 100.051 35.1067 99.7574 35.24L99.3574 34.42C100.091 34.08 100.784 33.91 101.437 33.91C102.091 33.91 102.594 34.07 102.947 34.39C103.307 34.7033 103.487 35.15 103.487 35.73V39H102.367V38.48C102.154 38.6867 101.924 38.84 101.677 38.94C101.431 39.04 101.164 39.09 100.877 39.09ZM100.157 37.54C100.157 37.7733 100.251 37.9567 100.437 38.09C100.624 38.2233 100.874 38.29 101.187 38.29C101.414 38.29 101.624 38.2567 101.817 38.19C102.017 38.1167 102.201 38.01 102.367 37.87V37.06C102.194 36.98 102.014 36.92 101.827 36.88C101.641 36.84 101.437 36.82 101.217 36.82C100.891 36.82 100.631 36.8833 100.437 37.01C100.251 37.1367 100.157 37.3133 100.157 37.54ZM105.505 39.09C105.312 39.09 105.145 39.02 105.005 38.88C104.872 38.7333 104.805 38.5633 104.805 38.37C104.805 38.1633 104.872 37.99 105.005 37.85C105.145 37.71 105.312 37.64 105.505 37.64C105.699 37.64 105.862 37.71 105.995 37.85C106.135 37.99 106.205 38.1633 106.205 38.37C106.205 38.5633 106.135 38.7333 105.995 38.88C105.862 39.02 105.699 39.09 105.505 39.09ZM107.555 39V33.99H108.685V34.78C108.872 34.4933 109.089 34.2767 109.335 34.13C109.589 33.9833 109.865 33.91 110.165 33.91C110.512 33.91 110.812 33.9967 111.065 34.17C111.325 34.3433 111.519 34.5767 111.645 34.87C111.845 34.5567 112.082 34.32 112.355 34.16C112.635 33.9933 112.952 33.91 113.305 33.91C113.625 33.91 113.909 33.9867 114.155 34.14C114.409 34.2933 114.602 34.5067 114.735 34.78C114.875 35.0533 114.945 35.3667 114.945 35.72V39H113.815V35.97C113.815 35.6167 113.725 35.3367 113.545 35.13C113.365 34.9233 113.119 34.82 112.805 34.82C112.605 34.82 112.419 34.87 112.245 34.97C112.079 35.07 111.932 35.22 111.805 35.42C111.812 35.4667 111.815 35.5167 111.815 35.57C111.822 35.6167 111.825 35.6667 111.825 35.72V39H110.685V35.97C110.685 35.6167 110.595 35.3367 110.415 35.13C110.235 34.9233 109.989 34.82 109.675 34.82C109.269 34.82 108.939 35.0133 108.685 35.4V39H107.555ZM115.835 39L117.725 36.42L115.915 33.99H117.245L118.415 35.64L119.585 33.99H120.855L119.025 36.45L120.935 39H119.615L118.355 37.25L117.095 39H115.835Z" fill="#64D787"/>
      <defs><radialGradient id="paint0_radial_898_22921" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(20.01 14.0301) rotate(90) scale(7.59 9.17601)"><stop stop-color="#E7F6FD"/><stop offset="1" stop-color="#C2EDFF"/></radialGradient></defs>
    </svg>
  `;

  return {
    to,
    ...extraOptions,
    html: extraOptions.withFooter ? html + logo : html,
    attachments: [
      extraOptions.withFooter ? { content: logo, filename: 'logo.svg' } : {},
    ],
    subject: subject === 'DevParana.mx' ? subject : `${subject} - DevParana.mx`,
  };
}

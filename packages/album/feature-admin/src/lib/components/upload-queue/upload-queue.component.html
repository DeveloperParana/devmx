<mat-expansion-panel [expanded]="opened()" [hideToggle]="true">
  <mat-expansion-panel-header>
    <mat-panel-title> Enviando </mat-panel-title>
    <mat-panel-description>
      {{ completed() }} de {{ total() }}
      <devmx-icon name="arrow/chevron-down" />
    </mat-panel-description>
  </mat-expansion-panel-header>

  <section>
    <mat-list>
      @for (item of queue(); track item.photo.name) {
      <mat-list-item>
        <span matListItemTitle>
          {{ item.photo.size | fileSize }}
        </span>

        <span matListItemMeta> {{ item.progress() }}% </span>

        <mat-progress-bar mode="determinate" [value]="item.progress()" />
      </mat-list-item>
      }
      <!--  -->
      @if (resizing(); as resizing) {
      <mat-list-item>
        <span matListItemTitle>
          @if (resizing < 100) { Preparando imagens } @else { Enviando imagens }
        </span>

        <span matListItemMeta> {{ resizing }}% </span>

        <mat-progress-bar mode="determinate" [value]="resizing" />
      </mat-list-item>
      }
    </mat-list>
  </section>
</mat-expansion-panel>

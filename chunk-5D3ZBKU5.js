import{a as Jt,b as ei,c as ti}from"./chunk-MTK7EKDI.js";import{c as Ce,d as xe,e as we}from"./chunk-IQKXYVAO.js";import{a as $,b as zt}from"./chunk-XOG3MR4O.js";import{b as $t}from"./chunk-FGIWLLTD.js";import{k as ve}from"./chunk-THCNWKDC.js";import{d as Kt,e as Zt}from"./chunk-SOKUPTDF.js";import{a as St,e as Ot,f as Et,g as Rt,l as At}from"./chunk-MVGT6HIX.js";import{a as Yt,b as qt,e as Qt,f as Xt,g as Gt,i as Wt}from"./chunk-EKMWFXOB.js";import{b as Mt,d as Ct,i as xt,j as wt,k as jt,o as H,r as Ht}from"./chunk-WLWXH53B.js";import{b as Bt}from"./chunk-ZA3WZWW5.js";import{a as Me,c as Tt,h as Pt,l as kt,o as It,x as Dt,y as Nt}from"./chunk-57VKPFDS.js";import{Ea as Lt,Ga as Vt,J as ut,Ka as Ut,N as pt,O as ht,Q as Le,T as ft,U as gt,Y as Ve,ca as _t,ga as bt,ha as yt,k as ct,na as vt,q as mt,s as dt,za as Ft}from"./chunk-XMIP7OAF.js";import{c as Ae,d as be,g as j,h as Fe,j as ye}from"./chunk-I7VYXJU2.js";import{$ as Se,Aa as Qe,C as te,E as ie,Fa as V,Fb as Ke,G as T,Ga as re,Gb as Oe,Hb as Ze,Ia as se,Ib as Je,Ic as fe,Ja as P,Jc as at,K as ze,Ka as le,La as Xe,M as Ie,Mc as G,Nb as Ee,Nc as ge,O as De,Ob as y,Oc as rt,Tb as z,Ub as d,Vb as et,Vc as U,Wa as Ge,Wb as tt,Xb as it,Yc as W,Zb as v,_ as L,_b as de,a as Pe,aa as ne,ac as ue,b as je,bc as pe,ca as oe,cc as l,dc as c,e as ee,ec as b,fa as Ye,ga as ae,hb as B,hd as _e,ia as R,ic as k,j as E,la as r,lc as p,m as ke,mb as m,me as st,nc as u,oc as Y,pb as We,pc as N,q as w,qc as he,rc as nt,sc as q,se as lt,tc as Q,ua as f,va as g,vb as _,vc as Re,wa as qe,wb as ce,wc as ot,xb as me,xc as X,y as He,yb as $e,yc as h,zc as M}from"./chunk-FZSJMIDG.js";var Be=class{_document;_textarea;constructor(s,e){this._document=e;let t=this._textarea=this._document.createElement("textarea"),i=t.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",t.setAttribute("aria-hidden","true"),t.value=s,t.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(t)}copy(){let s=this._textarea,e=!1;try{if(s){let t=this._document.activeElement;s.select(),s.setSelectionRange(0,s.value.length),e=this._document.execCommand("copy"),t&&t.focus()}}catch{}return e}destroy(){let s=this._textarea;s&&(s.remove(),this._textarea=void 0)}},bi=(()=>{class n{_document=r(_e);constructor(){}copy(e){let t=this.beginCopy(e),i=t.copy();return t.destroy(),i}beginCopy(e){return new Be(e,this._document)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yi=new R("CDK_COPY_TO_CLIPBOARD_CONFIG"),ii=(()=>{class n{_clipboard=r(bi);_ngZone=r(re);text="";attempts=1;copied=new V;_pending=new Set;_destroyed;_currentTimeout;constructor(){let e=r(yi,{optional:!0});e&&e.attempts!=null&&(this.attempts=e.attempts)}copy(e=this.attempts){if(e>1){let t=e,i=this._clipboard.beginCopy(this.text);this._pending.add(i);let o=()=>{let a=i.copy();!a&&--t&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(o,1)):(this._currentTimeout=null,this._pending.delete(i),i.destroy(),this.copied.emit(a))};o()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}static \u0275fac=function(t){return new(t||n)};static \u0275dir=me({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,i){t&1&&p("click",function(){return i.copy()})},inputs:{text:[0,"cdkCopyToClipboard","text"],attempts:[0,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}})}return n})(),ni=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ce({type:n});static \u0275inj=ae({})}return n})();var Pi=["mat-menu-item",""],ki=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Ii=["mat-icon, [matMenuItemIcon]","*"];function Di(n,s){n&1&&(qe(),l(0,"svg",2),b(1,"polygon",3),c())}var Si=["*"];function Oi(n,s){if(n&1){let e=k();l(0,"div",0),p("click",function(){f(e);let i=u();return g(i.closed.emit("click"))})("@transformMenu.start",function(i){f(e);let o=u();return g(o._onAnimationStart(i))})("@transformMenu.done",function(i){f(e);let o=u();return g(o._onAnimationDone(i))}),l(1,"div",1),N(2),c()()}if(n&2){let e=u();it(e._classList),d("id",e.panelId)("@transformMenu",e._panelAnimationState),z("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var Ne=new R("MAT_MENU_PANEL"),K=(()=>{class n{_elementRef=r(le);_document=r(_e);_focusMonitor=r(Le);_parentMenu=r(Ne,{optional:!0});_changeDetectorRef=r(U);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new E;_focused=new E;_highlighted=!1;_triggersSubmenu=!1;constructor(){r(mt).load(_t),this._parentMenu?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<t.length;i++)t[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(t,i){t&1&&p("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),t&2&&(z("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),tt("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",W],disableRipple:[2,"disableRipple","disableRipple",W]},exportAs:["matMenuItem"],features:[Ee],attrs:Pi,ngContentSelectors:Ii,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){t&1&&(Y(ki),N(0),l(1,"span",0),N(2,1),c(),b(3,"div",1),y(4,Di,2,0,":svg:svg",2)),t&2&&(m(3),d("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),m(),v(i._triggersSubmenu?4:-1))},dependencies:[bt],encapsulation:2,changeDetection:0})}return n})();var Ei=new R("MatMenuContent");var Te={transformMenu:Ae("transformMenu",[Fe("void",j({opacity:0,transform:"scale(0.8)"})),ye("void => enter",be("120ms cubic-bezier(0, 0, 0.2, 1)",j({opacity:1,transform:"scale(1)"}))),ye("* => void",be("100ms 25ms linear",j({opacity:0})))]),fadeInItems:Ae("fadeInItems",[Fe("showing",j({opacity:1})),ye("void => *",[j({opacity:0}),be("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},In=Te.fadeInItems,Dn=Te.transformMenu,Ri=new R("mat-menu-default-options",{providedIn:"root",factory:Ai});function Ai(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var F=(()=>{class n{_elementRef=r(le);_changeDetectorRef=r(U);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_allItems;_directDescendantItems=new Xe;_classList={};_panelAnimationState="void";_animationDone=new E;_isAnimating;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let t=this._previousPanelClass,i=Pe({},this._classList);t&&t.length&&t.split(" ").forEach(o=>{i[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{i[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new V;close=this.closed;panelId=r(ft).getId("mat-menu-panel-");_injector=r(Qe);constructor(){let e=r(Ri);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new ut(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(L(this._directDescendantItems),Se(e=>ie(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let i=e.toArray(),o=Math.max(0,Math.min(i.length-1,t.activeItemIndex||0));i[o]&&!i[o].disabled?t.setActiveItem(o):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(L(this._directDescendantItems),Se(t=>ie(...t.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,i=this._keyManager;switch(t){case 27:dt(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Ge(()=>{let t=null;if(this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!t||!t.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&t&&t.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=je(Pe({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(L(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["mat-menu"]],contentQueries:function(t,i,o){if(t&1&&(he(o,Ei,5),he(o,K,5),he(o,K,4)),t&2){let a;q(a=Q())&&(i.lazyContent=a.first),q(a=Q())&&(i._allItems=a),q(a=Q())&&(i.items=a)}},viewQuery:function(t,i){if(t&1&&nt(We,5),t&2){let o;q(o=Q())&&(i.templateRef=o.first)}},hostVars:3,hostBindings:function(t,i){t&2&&z("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",W],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:W(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[fe([{provide:Ne,useExisting:n}]),Ee],ngContentSelectors:Si,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","id"],[1,"mat-mdc-menu-content"]],template:function(t,i){t&1&&(Y(),y(0,Oi,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Te.transformMenu,Te.fadeInItems]},changeDetection:0})}return n})(),si=new R("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=r(H);return()=>n.scrollStrategies.reposition()}});function Fi(n){return()=>n.scrollStrategies.reposition()}var Li={provide:si,deps:[H],useFactory:Fi},oi=ct({passive:!0});var li=(()=>{class n{_overlay=r(H);_element=r(le);_viewContainerRef=r(Ke);_menuItemInstance=r(K,{optional:!0,self:!0});_dir=r(gt,{optional:!0});_focusMonitor=r(Le);_ngZone=r(re);_scrollStrategy=r(si);_changeDetectorRef=r(U);_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=ee.EMPTY;_hoverSubscription=ee.EMPTY;_menuCloseSubscription=ee.EMPTY;_parentMaterialMenu;_parentInnerPadding;_handleTouchStart=e=>{ht(e)||(this._openedBy="touch")};_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new V;onMenuOpen=this.menuOpened;menuClosed=new V;onMenuClose=this.menuClosed;constructor(){let e=r(Ne,{optional:!0});this._parentMaterialMenu=e instanceof F?e:void 0,this._element.nativeElement.addEventListener("touchstart",this._handleTouchStart,oi)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,oi),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let t=this._createOverlay(e),i=t.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,t.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof F&&(e._startAnimation(),e._directDescendantItems.changes.pipe(ne(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,t instanceof F?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(T(i=>i.toState==="void"),Ie(1),ne(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe(i=>{this.menu instanceof F&&this.menu._handleKeydown(i)})}return this._overlayRef}_getOverlayConfig(e){return new jt({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(i=>{this._ngZone.run(()=>{let o=i.connectionPair.overlayX==="start"?"after":"before",a=i.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(o,a)})})}_setPosition(e,t){let[i,o]=e.xPosition==="before"?["end","start"]:["start","end"],[a,x]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[C,I]=[a,x],[D,S]=[i,o],O=0;if(this.triggersSubmenu()){if(S=i=e.xPosition==="before"?"start":"end",o=D=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let J=this._parentMaterialMenu.items.first;this._parentInnerPadding=J?J._getHostElement().offsetTop:0}O=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(C=a==="top"?"bottom":"top",I=x==="top"?"bottom":"top");t.withPositions([{originX:i,originY:C,overlayX:D,overlayY:a,offsetY:O},{originX:o,originY:C,overlayX:S,overlayY:a,offsetY:O},{originX:i,originY:I,overlayX:D,overlayY:x,offsetY:-O},{originX:o,originY:I,overlayX:S,overlayY:x,offsetY:-O}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:w(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(T(a=>a!==this._menuItemInstance),T(()=>this._menuOpen)):w();return ie(e,i,o,t)}_handleMousedown(e){pt(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(T(e=>e===this._menuItemInstance&&!e.disabled),De(0,ke)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof F&&this.menu._isAnimating?this.menu._animationDone.pipe(Ie(1),De(0,ke),ne(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Bt(e.templateRef,this._viewContainerRef)),this._portal}static \u0275fac=function(t){return new(t||n)};static \u0275dir=me({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,i){t&1&&p("click",function(a){return i._handleClick(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),t&2&&z("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return n})(),ci=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ce({type:n});static \u0275inj=ae({providers:[Li],imports:[yt,Ve,Ht,Ut,Ve]})}return n})();var mi=n=>({subscribe:e=>{let t=(i,{clientX:o,clientY:a})=>{if(new Date().getTime()-i>600){let{left:C,top:I,width:D,height:S}=n.getBoundingClientRect();e({x:(o-C)/D,y:(a-I)/S})}};n.onmousedown=()=>{let i=new Date().getTime();n.onmouseup=o=>{o.preventDefault(),t(i,o)}},n.ontouchstart=()=>{let i=new Date().getTime();n.ontouchend=o=>{o.preventDefault();let{changedTouches:a}=o;t(i,a[0])}}}});var di=(()=>{class n{transform(e,t=[]){return t.length===0?e:e.filter(i=>t.some(o=>o.id!==i.id))}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=$e({name:"searchUserExcept",type:n,pure:!0})}return n})();function Bi(n,s){if(n&1&&(l(0,"mat-option",3),h(1),c()),n&2){let e=s.$implicit;d("value",e),m(),M(e.displayName)}}function Ni(n,s){if(n&1&&(ue(0,Bi,2,2,"mat-option",3,de),G(2,"searchUserExcept")),n&2){let e=u();pe(rt(2,0,s.data,e.except()))}}var ui=(()=>{class n{userFacade=r($t);selected=se();label=P("Usu\xE1rio");hint=P("");control=new kt("");except=P([]);constructor(){this.control.valueChanges.pipe(L(" "),T(e=>typeof e=="string"),T(e=>e.length>0),Nt(),ze(400)).subscribe(e=>{this.userFacade.setFilter({displayName:e}),this.userFacade.load()})}displayFn(e){return e&&e.displayName?e.displayName:""}onOptionSelected(e){this.selected.emit(e),this.control.setValue("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["devmx-search-user"]],inputs:{label:[1,"label"],hint:[1,"hint"],except:[1,"except"]},outputs:{selected:"selected"},decls:10,vars:8,consts:[["auto","matAutocomplete"],["matInput","",3,"formControl","matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value"]],template:function(t,i){if(t&1){let o=k();l(0,"mat-form-field")(1,"mat-label"),h(2),c(),b(3,"input",1),l(4,"mat-hint"),h(5),c(),l(6,"mat-autocomplete",2,0),p("optionSelected",function(x){return f(o),g(i.onOptionSelected(x.option.value))}),y(8,Ni,3,3),G(9,"async"),c()()}if(t&2){let o,a=X(7);m(2),M(i.label()),m(),d("formControl",i.control)("matAutocomplete",a),m(2),M(i.hint()),m(),d("displayWith",i.displayFn),m(2),v((o=ge(9,6,i.userFacade.response$))?8:-1,o)}},dependencies:[Dt,Tt,Pt,It,ti,Jt,vt,ei,di,wt,xt,Mt,Ct,Zt,Kt,st],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0})}return n})();var Ui=()=>[],pi=(()=>{class n{dialogRef=r(Ce);data=r(xe);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["devmx-tag-user"]],decls:1,vars:2,consts:[[3,"selected","except"]],template:function(t,i){if(t&1&&(l(0,"devmx-search-user",0),p("selected",function(a){return i.dialogRef.close(a)}),c()),t&2){let o;d("except",(o=i.data.except)!==null&&o!==void 0?o:at(1,Ui))}},dependencies:[ui],styles:["[_nghost-%COMP%]{display:flex;padding:.8em .6em 0;border-radius:.6em;background-color:#fffc}"],changeDetection:0})}return n})();var Z=class{overlay;dialog;constructor(s,e){this.overlay=s,this.dialog=e}open({target:s,offsetX:e=0,offsetY:t=0,data:i}){let a=this.overlay.position().flexibleConnectedTo(s).withPositions([{overlayX:"center",overlayY:"top",originX:"start",originY:"top",panelClass:"tag-user-position",offsetX:e,offsetY:t}]);return this.dialog.open(pi,{positionStrategy:a,data:i})}};function hi(){return{provide:Z,deps:[H,we]}}var ji=["imageRef"];function Hi(n,s){if(n&1&&(l(0,"div",15),b(1,"devmx-icon",16),c()),n&2){let e=s.$implicit;et("left",e.x,"%")("top",e.y,"%"),d("matTooltip",e.user.displayName)}}function zi(n,s){if(n&1){let e=k();l(0,"header")(1,"button",3),b(2,"devmx-icon",4),c(),l(3,"mat-menu",5,0)(5,"button",6),p("click",function(){f(e);let i=u();return g(i.removeMyTag(i.data.auth))}),h(6," Remover minha tag "),c()(),l(7,"button",7),p("click",function(){f(e);let i=u();return g(i.close())}),b(8,"devmx-icon",8),c()(),l(9,"figure")(10,"div",9)(11,"img",10,1),p("click",function(){f(e);let i=u();return g(i.toggleTags())}),c(),ue(13,Hi,2,5,"div",11,de),c(),l(15,"figcaption"),h(16),c()(),l(17,"footer")(18,"button",12,2),p("click",function(){f(e);let i=X(19),o=u();return g(o.share(i))}),b(20,"devmx-icon",13),c(),l(21,"small"),h(22," Clique/toque e segure por \xBD segundo para marcar algu\xE9m na foto. Se n\xE3o encontrar ela aqui, use o bot\xE3o aqui do lado esquerdo "),l(23,"strong"),h(24,": )"),c()(),l(25,"button",14),p("click",function(){f(e);let i=u();return g(i.update(i.data.photo))}),h(26," Salvar "),c()()}if(n&2){let e=X(4),t=u();m(),d("matMenuTriggerFor",e),m(4),d("disabled",!t.hasTagWithMe(t.data.auth)),m(6),d("src",t.data.photo.data,B)("alt",t.data.photo.caption),m(2),pe(t.data.photo.tags),m(3),M(t.data.photo.caption),m(2),d("ariaLabel",t.shareLabel())("matTooltip",t.shareLabel())("cdkCopyToClipboard","https://devparana.mx/#/albuns/fotos/"+t.data.photo.id),m(7),d("disabled",t.keepEquals())}}var fi=(()=>{class n{tagUser=r(Z);#t=r(U);#o=r(Ce);data=r(xe);tooltips=Je($);#e=[];imageRef=Ze.required("imageRef");keepEquals=Oe(!0);shareLabel=Oe("Compartilhar");#i=new E;photo$=this.#i.asObservable();#n=new E;updated$=this.#n.asObservable();updated(e){this.#i.next(e)}update(e){this.#n.next(e)}share(e){let t=i=>oe(()=>this.shareLabel.set(i));He(te(500),w("").pipe(t("Link copiado")),w("").pipe(oe(()=>e.show())),te(2e3),w("").pipe(oe(()=>e.hide())),te(1e3),w("").pipe(t("Compartilhar"))).subscribe()}removeMyTag(e){this.data.photo.tags=this.data.photo.tags?.filter(i=>i.user.id!==e.id);let t=ve(this.#e,this.data.photo.tags??[]);this.keepEquals.set(t)}ngAfterViewInit(){this.#e=[...this.data.photo.tags??[]],this.photo$.subscribe(t=>{this.data.photo=t,this.#e=[...this.data.photo.tags??[]],this.#t.detectChanges();let i=ve(this.#e,this.data.photo.tags??[]);this.keepEquals.set(i)});let e=this.imageRef().nativeElement;e.oncontextmenu=t=>t.preventDefault(),mi(e).subscribe(t=>{let i=t.x*e.width,o=t.y*e.height,a=this.data.photo.tags?.map(C=>C.user)??[];this.tagUser.open({target:e,data:{except:a},offsetX:i,offsetY:o}).closed.subscribe(C=>{if(C){let{id:I,displayName:D,name:S}=C,O={id:I,displayName:D,name:S},J=t.x*100,gi=t.y*100;this.data.photo.tags?.push({x:J,y:gi,user:O}),this.#t.detectChanges();let _i=ve(this.#e,this.data.photo.tags??[]);this.keepEquals.set(_i)}})})}toggleTags(){if(this.data.photo.tags?.length)for(let e of this.tooltips())e.toggle()}hasTagWithMe(e){return this.data.photo.tags?.some(t=>t.user.id===e.id)}close(){this.#o.close()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["devmx-photo-viewer"]],viewQuery:function(t,i){t&1&&(Re(i.tooltips,$,5),Re(i.imageRef,ji,5)),t&2&&ot(2)},features:[fe([hi()])],decls:1,vars:1,consts:[["menu","matMenu"],["imageRef",""],["refTooltip","matTooltip"],["mat-icon-button","","aria-label","Op\xE7\xF5es de controle",3,"matMenuTriggerFor"],["name","menu/burguer-menu"],["xPosition","before"],["mat-menu-item","",3,"click","disabled"],["mat-icon-button","",3,"click"],["name","close-cross"],[1,"photo-viewer"],[3,"click","src","alt"],["matTooltipTouchGestures","off","matTooltipPosition","after",1,"user-tag",3,"left","top","matTooltip"],["mat-icon-button","","matTooltipPosition","after",3,"click","ariaLabel","matTooltip","cdkCopyToClipboard"],["name","share"],["mat-flat-button","",3,"click","disabled"],["matTooltipTouchGestures","off","matTooltipPosition","after",1,"user-tag",3,"matTooltip"],["name","tag"]],template:function(t,i){t&1&&y(0,zi,27,9),t&2&&v(i.data?0:-1)},dependencies:[zt,$,Vt,Ft,Lt,ci,F,K,li,ni,ii,Me],styles:["[_nghost-%COMP%]{border:0;outline:none;display:flex;flex-direction:column;background-color:#fff;border-radius:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{gap:1em;display:flex;padding:.6em;justify-content:flex-end}[_nghost-%COMP%]   figure[_ngcontent-%COMP%]{margin:0;width:100%;max-height:100%;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:flex;z-index:10;width:100%;height:100%;max-width:100%;cursor:context-menu;object-fit:pointer;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   figure[_ngcontent-%COMP%]   .photo-viewer[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   figure[_ngcontent-%COMP%]   .user-tag[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-50%);display:flex;align-items:flex-end;justify-content:flex-end;transition:opacity .25s ease-in-out;color:#f9e000;width:64px;height:64px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{gap:1em;padding:.6em;display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{flex:1;line-height:140%;font-weight:400}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]   devmx-icon[_ngcontent-%COMP%]{display:flex}"],changeDetection:0})}return n})();var Ue=class{dialog;constructor(s){this.dialog=s}open(s){let t=this.dialog.open(fi,{width:`${s.photo.width}px`,height:`${s.photo.height}px`,disableClose:!0,hasBackdrop:!0,maxHeight:"80%",maxWidth:"80%",data:s}).componentInstance;if(!t)throw"Erro ao criar inst\xE2ncia PhotoViewer";return{updated$:t.updated$,updated:i=>t.updated(i)}}};function Po(){return{provide:Ue,deps:[we]}}var Yi=["*"];function qi(n,s){if(n&1&&b(0,"img",1),n&2){let e=u();d("src",e.album.cover,B)("alt",e.album.title)}}function Qi(n,s){if(n&1&&(l(0,"mat-list-item"),b(1,"devmx-icon",3),l(2,"div",4),h(3),G(4,"date"),c()()),n&2){let e=u();m(3),M(ge(4,1,e.album.createdAt))}}var Vo=(()=>{class n{data=P.required();get album(){return this.data()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["devmx-album-card"]],inputs:{data:[1,"data"]},ngContentSelectors:Yi,decls:9,vars:3,consts:[[1,"album-card"],["mat-card-image","",3,"src","alt"],["align","end",1,"album-card-actions"],["matListItemIcon","","name","calendar"],["matListItemTitle",""]],template:function(t,i){t&1&&(Y(),l(0,"mat-card",0),y(1,qi,1,2,"img",1),l(2,"mat-card-header")(3,"mat-card-title"),h(4),c()(),l(5,"mat-list"),y(6,Qi,5,3,"mat-list-item"),c(),l(7,"mat-card-actions",2),N(8),c()()),t&2&&(m(),v(i.album.cover?1:-1),m(3),M(i.album.title),m(2),v(i.album.createdAt?6:-1))},dependencies:[Wt,Yt,Qt,Xt,Gt,qt,At,Et,Rt,Ot,St,Me,lt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .album-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}[_nghost-%COMP%]   .album-card[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .album-card[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}[_nghost-%COMP%]   .album-card-actions[_ngcontent-%COMP%]:empty{display:none}"],changeDetection:0})}return n})();function Xi(n,s){if(n&1){let e=k();l(0,"figure")(1,"img",0),p("click",function(){let i=f(e),o=u();return g(o.open.emit(i))}),c(),l(2,"figcaption"),h(3),c()()}if(n&2){let e=s;m(),d("src",e.data,B)("alt",e.caption),m(2),M(e.caption)}}var Ho=(()=>{class n{photo=P.required();open=se();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["devmx-photo"]],inputs:{photo:[1,"photo"]},outputs:{open:"open"},decls:1,vars:1,consts:[[3,"click","src","alt"]],template:function(t,i){if(t&1&&y(0,Xi,4,3,"figure"),t&2){let o;v((o=i.photo())?0:-1,o)}},styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   figure[_ngcontent-%COMP%]{margin:0;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden}[_nghost-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:flex;z-index:1;width:100%;height:100%;object-fit:cover;cursor:pointer}"],changeDetection:0})}return n})();export{ii as a,ni as b,K as c,F as d,li as e,ci as f,ui as g,pi as h,Z as i,hi as j,fi as k,Ue as l,Po as m,Vo as n,Ho as o};

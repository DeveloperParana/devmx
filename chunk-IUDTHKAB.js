import{a as ae,b as ne}from"./chunk-4Y7TZHD4.js";import{a as oe}from"./chunk-DUF4HXV7.js";import{a as Ut,b as Kt,c as Qt,d as Wt,e as Jt,f as Xt,g as Zt,h as te,i as ee,j as ie,k as re}from"./chunk-HPJEYRZM.js";import{a as $t,b as zt}from"./chunk-YJNMZPRM.js";import{a as Gt}from"./chunk-VE4FGS76.js";import{d as Lt,e as qt}from"./chunk-LFAX4DK3.js";import"./chunk-JX4IWPKV.js";import"./chunk-XC6WES62.js";import{a as Ot}from"./chunk-LVUYG7JQ.js";import{c as Vt}from"./chunk-VYHC3V3G.js";import"./chunk-3I45H2NO.js";import"./chunk-R66KDUEB.js";import"./chunk-BJXILAOS.js";import"./chunk-3SNV2MVI.js";import"./chunk-2IAXMR6M.js";import{a as Rt}from"./chunk-A3N3AUUJ.js";import{D as Ht,G as Et,I as It,z as B}from"./chunk-4FWBEGAE.js";import{e as wt,i as bt,j as Dt}from"./chunk-2K6IALUF.js";import{g as dt,h as ct,i as lt,p as mt}from"./chunk-KXTQ2UTD.js";import{c as b,d as S,g as a,h as m,i as k,j as f,k as ht,l as pt}from"./chunk-I7VYXJU2.js";import"./chunk-PAP2P7QR.js";import{a as Nt,e as Bt,f as jt,i as Yt}from"./chunk-EC6LD5KM.js";import{a as Mt,c as xt,h as yt,i as At,m as kt,p as Pt,s as Tt,x as Ft}from"./chunk-EDIJ2EBQ.js";import{H as _t,Q as ut,W as St,X as gt,Y as Ct,ca as vt,q as ft}from"./chunk-W5KNOAKV.js";import{D as L,Ea as Q,Ja as W,Jc as ot,Kc as at,Mb as E,Nb as w,Sb as I,Sc as nt,Tb as h,Vb as R,Vc as A,Yb as P,a as F,bc as s,cc as d,dc as l,ea as q,ec as O,fa as $,fc as V,ha as z,hc as y,j as H,je as st,ka as n,kc as _,l as Y,la as G,lb as c,ma as U,mb as J,mc as u,nc as tt,oc as et,sa as K,ta as g,ua as C,ub as D,vb as X,wb as Z,wc as it,xc as N,yc as rt}from"./chunk-TEKHUYWQ.js";var de=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=D({type:e,selectors:[["devmx-learn-feature-admin"]],decls:1,vars:0,template:function(i,r){i&1&&l(0,"router-outlet")},dependencies:[ct],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0})}return e})();var ce=[zt(),ne()];var fe=["mat-sort-header",""],_e=["*"];function ue(e,p){if(e&1){let t=y();s(0,"div",2),_("@arrowPosition.start",function(){g(t);let r=u();return C(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){g(t);let r=u();return C(r._disableViewStateAnimation=!1)}),l(1,"div",3),s(2,"div",4),l(3,"div",5)(4,"div",6)(5,"div",7),d()()}if(e&2){let t=u();h("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),c(2),h("@indicator",t._getArrowDirectionState()),c(),h("@leftPointer",t._getArrowDirectionState()),c(),h("@rightPointer",t._getArrowDirectionState())}}var le=new z("MAT_SORT_DEFAULT_OPTIONS"),j=(()=>{class e{_defaultOptions;_initializedStream=new Y(1);sortables=new Map;_stateChanges=new H;active;start="asc";get direction(){return this._direction}set direction(t){this._direction=t}_direction="";disableClear;disabled=!1;sortChange=new Q;initialized=this._initializedStream;constructor(t){this._defaultOptions=t}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let i=t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=Se(t.start||this.start,i),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(i){return new(i||e)(J(le,8))};static \u0275dir=Z({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",A],disabled:[2,"matSortDisabled","disabled",A]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[E,K]})}return e})();function Se(e,p){let t=["asc","desc"];return e=="desc"&&t.reverse(),p||t.push(""),t}var v=gt.ENTERING+" "+St.STANDARD_CURVE,M={indicator:b("indicator",[m("active-asc, asc",a({transform:"translateY(0px)"})),m("active-desc, desc",a({transform:"translateY(10px)"})),f("active-asc <=> active-desc",S(v))]),leftPointer:b("leftPointer",[m("active-asc, asc",a({transform:"rotate(-45deg)"})),m("active-desc, desc",a({transform:"rotate(45deg)"})),f("active-asc <=> active-desc",S(v))]),rightPointer:b("rightPointer",[m("active-asc, asc",a({transform:"rotate(45deg)"})),m("active-desc, desc",a({transform:"rotate(-45deg)"})),f("active-asc <=> active-desc",S(v))]),arrowOpacity:b("arrowOpacity",[m("desc-to-active, asc-to-active, active",a({opacity:1})),m("desc-to-hint, asc-to-hint, hint",a({opacity:.54})),m("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",a({opacity:0})),f("* => asc, * => desc, * => active, * => hint, * => void",S("0ms")),f("* <=> *",S(v))]),arrowPosition:b("arrowPosition",[f("* => desc-to-hint, * => desc-to-active",S(v,k([a({transform:"translateY(-25%)"}),a({transform:"translateY(0)"})]))),f("* => hint-to-desc, * => active-to-desc",S(v,k([a({transform:"translateY(0)"}),a({transform:"translateY(25%)"})]))),f("* => asc-to-hint, * => asc-to-active",S(v,k([a({transform:"translateY(25%)"}),a({transform:"translateY(0)"})]))),f("* => hint-to-asc, * => active-to-asc",S(v,k([a({transform:"translateY(0)"}),a({transform:"translateY(-25%)"})]))),m("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",a({transform:"translateY(0)"})),m("hint-to-desc, active-to-desc, desc",a({transform:"translateY(-25%)"})),m("hint-to-asc, active-to-asc, asc",a({transform:"translateY(25%)"}))]),allowChildren:b("allowChildren",[f("* <=> *",[pt("@*",ht(),{optional:!0})])])},T=(()=>{class e{changes=new H;static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ge(e){return e||new T}var Ce={provide:T,deps:[[new G,new U,T]],useFactory:ge},me=(()=>{class e{_intl=n(T);_changeDetectorRef=n(nt);_sort=n(j,{optional:!0});_columnDef=n("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_focusMonitor=n(ut);_elementRef=n(W);_ariaDescriber=n(_t,{optional:!0});_rerenderSubscription;_sortButton;_showIndicatorHint=!1;_viewState={};_arrowDirection="";_disableViewStateAnimation=!1;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}_sortActionDescription="Sort";disableClear;constructor(){n(ft).load(vt);let t=n(le,{optional:!0});this._sort,t?.arrowPosition&&(this.arrowPosition=t?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{let i=!!t;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._showIndicatorHint?this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"hint"}):this._setAnimationTransitionState({fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(t.keyCode===32||t.keyCode===13)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){let t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=L(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&this._viewState.toState==="active"&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=D({type:e,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,r){i&1&&_("click",function(){return r._handleClick()})("keydown",function(x){return r._handleKeydown(x)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),i&2&&(I("aria-sort",r._getAriaSortAttribute()),R("mat-sort-header-disabled",r._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",A],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",A]},exportAs:["matSortHeader"],features:[E],attrs:fe,ngContentSelectors:_e,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(i,r){i&1&&(tt(),s(0,"div",0)(1,"div",1),et(2),d(),w(3,ue,6,6,"div",2),d()),i&2&&(R("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before",r.arrowPosition==="before"),I("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),c(3),P(r._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}@media(forced-colors: active){.mat-sort-header-stem{width:0;border-left:solid 2px}}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}@media(forced-colors: active){.mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}@media(forced-colors: active){.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[M.indicator,M.leftPointer,M.rightPointer,M.arrowOpacity,M.arrowPosition,M.allowChildren]},changeDetection:0})}return e})(),he=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=X({type:e});static \u0275inj=$({providers:[Ce],imports:[Ct]})}return e})();function we(e,p){e&1&&(s(0,"th",20),N(1," Habilidade "),d())}function be(e,p){if(e&1&&(s(0,"td",21),N(1),d()),e&2){let t=p.$implicit;c(),rt(t.name)}}function De(e,p){e&1&&l(0,"th",22)}function Me(e,p){if(e&1){let t=y();s(0,"td",21)(1,"button",23),_("click",function(){let r=g(t).$implicit,o=u(2);return C(o.editSkill(r))}),l(2,"devmx-icon",24),d()()}}function xe(e,p){e&1&&l(0,"tr",25)}function ye(e,p){e&1&&l(0,"tr",26)}function Ae(e,p){if(e&1){let t=y();s(0,"table",6),_("matSortChange",function(r){g(t);let o=u();return C(o.onSortChange(r))}),O(1,7),w(2,we,2,0,"th",8)(3,be,2,1,"td",9),V(),O(4,10),w(5,De,1,0,"th",11)(6,Me,3,0,"td",9),V(),w(7,xe,1,0,"tr",12)(8,ye,1,0,"tr",13),d(),s(9,"mat-card-actions",14)(10,"form",15,0),_("submit",function(){g(t);let r=it(11),o=u();return C(o.onSubmit(r))}),s(12,"mat-form-field"),l(13,"input",16),s(14,"button",17),l(15,"devmx-icon",18),d()()(),s(16,"devmx-paginator",19),_("pageChange",function(r){g(t);let o=u();return C(o.onPageChange(r))}),d()()}if(e&2){let t=p,i=u();h("dataSource",t.data),c(7),h("matHeaderRowDef",i.columns),c(),h("matRowDefColumns",i.columns),c(2),h("formGroup",i.form),c(6),h("size",10)("items",t.items)}}var pe=(()=>{class e{router=n(lt);route=n(dt);skillFacade=n(Ot);skillDialog=n(ae);dialogFacade=n($t);columns=["name","actions"];form=new oe;constructor(){this.route.queryParams.pipe(Rt()).subscribe(this.onQueryParams)}onQueryParams=t=>{let{page:i=0,size:r=10,name:o="",sort:x=""}=t;this.skillFacade.setFilter({name:o}),this.skillFacade.setPage(i,r),this.skillFacade.setSort(B.fromParams(x)),this.skillFacade.load(),console.log(this.route.snapshot.toString())};onSearchChange(t){let i=this.mergeParams({name:t});this.router.navigate([],{queryParams:i})}onPageChange(t){let i=this.mergeParams(t);this.router.navigate([],{queryParams:i})}onSortChange({active:t,direction:i}){let r=B.toParams(t,i),o=this.mergeParams(r);this.router.navigate([],{queryParams:o})}mergeParams(t){return F(F({},this.route.snapshot.queryParams),t)}onSubmit(t){this.form.valid&&(this.skillFacade.create(this.form.getRawValue()),t.resetForm())}createSkill(){this.skillDialog.open().subscribe(t=>{t&&this.skillFacade.create(t)})}editSkill(t){this.skillDialog.open(t).subscribe(i=>{i&&this.skillFacade.create(i)})}deleteSkill({id:t,name:i}){this.dialogFacade.confirm(`Confirme que deseja apagar a habilidade ${i}`,"Esta a\xE7\xE3o n\xE3o poder\xE1 ser desfeita").subscribe(r=>{r&&this.skillFacade.delete(t)})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=D({type:e,selectors:[["devmx-admin-skills"]],decls:7,vars:4,consts:[["skillForm","ngForm"],["mat-fab","",1,"tertiary-fab","top","right",3,"click"],["name","plus"],[1,"skills-card"],[1,"skills-card-header"],[3,"searchChange","debounce"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","name",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"skills-card-actions"],[3,"submit","formGroup"],["matInput","","formControlName","name","placeholder","Adicionar nova habilidade"],["mat-icon-button","","matIconSuffix",""],["name","send"],[3,"pageChange","size","items"],["mat-header-cell","","mat-sort-header","name"],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","",3,"click"],["name","software/edit"],["mat-header-row",""],["mat-row",""]],template:function(i,r){if(i&1&&(s(0,"button",1),_("click",function(){return r.createSkill()}),l(1,"devmx-icon",2),d(),s(2,"mat-card",3)(3,"mat-card-header",4)(4,"devmx-search-field",5),_("searchChange",function(x){return r.onSearchChange(x)}),d()(),w(5,Ae,17,6),ot(6,"async"),d()),i&2){let o;c(4),h("debounce",800),c(),P((o=at(6,2,r.skillFacade.response$))?5:-1,o)}},dependencies:[mt,re,Ut,Qt,Zt,Wt,Kt,te,Jt,Xt,ee,ie,It,Et,Ht,Dt,bt,wt,Ft,kt,xt,yt,At,Pt,Tt,Gt,Vt,qt,Lt,he,j,me,Mt,Yt,Nt,Bt,jt,st],styles:["[_nghost-%COMP%]{flex:1;padding:1em;display:flex;flex-direction:column}[_nghost-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{width:4em}[_nghost-%COMP%]   .skills-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-left:1em}"],changeDetection:0})}return e})();var Pi=[{path:"",data:{breadcrumb:"Administra\xE7\xE3o"},providers:ce,component:de,children:[{path:"",data:{breadcrumb:"Habilidades"},title:"Administrar hbilidades",component:pe}]}];export{de as LearnFeatureAdminComponent,Pi as learnFeatureAdminRoutes};

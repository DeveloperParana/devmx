import{a as Pe,b as Me,c as be,d as Ee}from"./chunk-GBPAXCNY.js";import{a as ge,b as _e,c as Ce,d as xe}from"./chunk-OVBK7X6A.js";import{b as w}from"./chunk-DHJLQTLE.js";import"./chunk-2JFQCQIH.js";import{a as ve}from"./chunk-WB6N3EIH.js";import{a as he}from"./chunk-ACICD334.js";import"./chunk-K6BAOOYY.js";import"./chunk-EHE3LMIA.js";import{c as M,d as le,f as se,h as de}from"./chunk-FCFKOLNZ.js";import{a as fe}from"./chunk-KFNJW3LU.js";import{a as ce}from"./chunk-AXSJEORW.js";import{d as pe}from"./chunk-HI7DSU4M.js";import{H as re,J as me,c as O}from"./chunk-DRS6KPFN.js";import{c as ye,g as Se,h as Te,j as Oe}from"./chunk-GWR3E4OR.js";import"./chunk-QFO6SDSJ.js";import"./chunk-6XRDRI3M.js";import{g as S,h as U,p as T}from"./chunk-HSHVYIET.js";import"./chunk-I7VYXJU2.js";import{a as Z,b as ee,c as te,e as ne,f as ie,g as oe,l as ae}from"./chunk-D6LQDK3R.js";import{i as ue}from"./chunk-4MJB22NR.js";import{a as F,h as J,i as Y,m as q,p as K,s as Q,x as X}from"./chunk-G3WX2AVA.js";import"./chunk-HIWFQB25.js";import{$b as B,F as g,Ha as A,Hc as G,Ia as I,Jc as c,Kc as y,Lc as f,Nb as u,Tb as l,Yb as C,Yd as z,_b as R,ac as k,ba as V,bc as n,cc as i,dc as p,hc as $,je as H,ka as s,kc as b,lb as o,mc as v,pe as W,t as P,ta as N,u as L,ua as j,ub as _,xc as d,yc as x,zc as E}from"./chunk-D2BDYEBL.js";var we=(()=>{class t{route=s(S);script=s(ve);constructor(){this.route.data.pipe(g(({schema:e})=>!!e),P(({schema:e})=>e),O()).subscribe(e=>{let a="application/ld+json",r=JSON.stringify(e,null,2);this.script.addScript({type:a},r)})}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=_({type:t,selectors:[["devmx-event-feature-page"]],decls:2,vars:0,template:function(a,r){a&1&&(n(0,"devmx-app-shell"),p(1,"router-outlet"),i())},dependencies:[T,U,w,ce],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0})}return t})();var Ie=[];var Re=t=>de(s(M),t.params);var Be=t=>{let m=t.parent?t.parent.params:t.params;return se(s(M),m)};var Ve=t=>({active:t}),ke=(()=>{class t{loved=I(!1);loveChange=A();disabled=I(!1);isDisabled(){return this.disabled()===""?!0:this.disabled()}onClick(){this.loveChange.emit(!this.loved())}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=_({type:t,selectors:[["devmx-heart-button"]],inputs:{loved:[1,"loved"],disabled:[1,"disabled"]},outputs:{loveChange:"loveChange"},decls:2,vars:4,consts:[["mat-icon-button","",3,"click","disabled","ngClass"],["name","heart"]],template:function(a,r){a&1&&(n(0,"button",0),b("click",function(){return r.onClick()}),p(1,"devmx-icon",1),i()),a&2&&l("disabled",r.disabled())("ngClass",G(2,Ve,r.loved()))},dependencies:[re,F,z],encapsulation:2})}return t})();function Ne(t,m){if(t&1&&p(0,"devmx-maps-button",1),t&2){let e=v();l("data",e)}}function je(t,m){if(t&1&&p(0,"devmx-youtube-button",1),t&2){let e=v();l("data",e)}}function Ae(t,m){if(t&1&&(n(0,"article"),p(1,"devmx-markdown-view",10),i()),t&2){let e=v();o(),l("content",e.description)}}function $e(t,m){if(t&1&&(n(0,"mat-list-item"),p(1,"devmx-icon",11),n(2,"div",12),d(3),i(),n(4,"div",13),d(5),i(),p(6,"devmx-heart-button",14),i()),t&2){let e=m.$implicit;o(3),x(e.title),o(2),x(e.owner.displayName),o(),l("loved",!1)}}function Ge(t,m){if(t&1&&(n(0,"mat-list"),B(1,$e,7,3,"mat-list-item",null,R),i()),t&2){let e=v(2);o(),k(e.presentations)}}function ze(t,m){t&1&&(n(0,"mat-tab",8),u(1,Ge,3,0,"ng-template",7),i())}function He(t,m){if(t&1&&(n(0,"mat-list-item"),p(1,"devmx-icon",15),n(2,"div",12),d(3),i()()),t&2){let e=m.$implicit;o(3),x(e.displayName)}}function We(t,m){if(t&1&&B(0,He,4,1,"mat-list-item",null,R),t&2){let e=v(2);k(e.leaders)}}function Ue(t,m){if(t&1&&(n(0,"mat-list")(1,"mat-list-item"),p(2,"devmx-icon",15),n(3,"div",12),d(4),i()(),u(5,We,2,0),i()),t&2){let e=v();o(4),x(e.owner.displayName),o(),C(e.leaders.length?5:-1)}}function Je(t,m){if(t&1){let e=$();n(0,"header")(1,"hgroup")(2,"h1"),d(3),i(),n(4,"h3")(5,"span")(6,"time",0),c(7,"date"),d(8),c(9,"date"),i()(),n(10,"span"),d(11," das "),i(),n(12,"time",0),c(13,"date"),d(14),c(15,"date"),i(),n(16,"span"),d(17," at\xE9 "),i(),n(18,"time",0),c(19,"date"),d(20),c(21,"date"),i()()(),n(22,"nav"),p(23,"devmx-calendar-button",1),u(24,Ne,1,1,"devmx-maps-button",1),c(25,"showEventAddress"),u(26,je,1,1,"devmx-youtube-button",1),c(27,"showEventLink"),p(28,"devmx-whats-app-button",1),i()(),n(29,"section",2)(30,"form",3)(31,"devmx-rsvp-button",4),b("statusChange",function(){N(e);let r=v();return j(r.onStatusChange())}),i()(),n(32,"mat-tab-group",5)(33,"mat-tab",6),u(34,Ae,2,1,"ng-template",7),i(),u(35,ze,2,0,"mat-tab",8),n(36,"mat-tab",9),u(37,Ue,6,2,"ng-template",7),i()()()}if(t&2){let e=m,a=v();o(3),x(e.title),o(3),l("dateTime",f(7,13,e.date,"longDate")),o(2),E(" ",f(9,16,e.date,"longDate")," "),o(4),l("dateTime",f(13,19,e.start,"shortTime")),o(2),E(" ",f(15,22,e.start,"shortTime"),"h "),o(4),l("dateTime",f(19,25,e.end,"shortTime")),o(2),E(" ",f(21,28,e.end,"shortTime"),"h "),o(3),l("data",e),o(),C(y(25,31,e.format)&&e.address?24:-1),o(2),C(y(27,33,e.format)&&e.link?26:-1),o(2),l("data",e),o(2),l("formGroup",a.form),o(5),C(e.presentations.length?35:-1)}}var De=(()=>{class t{authFacade=s(fe);rsvpFacade=s(le);route=s(S);event$=this.route.data.pipe(g(({page:e})=>!!e),P(({page:e})=>e),V(e=>this.setRSVPEvent(e.id)));form=new Oe;constructor(){if(localStorage.getItem("accessToken")){this.authFacade.load();let e=this.authFacade.auth$.pipe(g(r=>!!r),P(r=>r.id)),a=this.rsvpFacade.response$.pipe(g(r=>r.length>0));L([e,a]).pipe(O()).subscribe(([r,h])=>{let D=h.find(Le=>Le.user.id===r);D&&this.setRSVPStatus(D)})}}setRSVPEvent=e=>{this.form.patchValue({event:e}),this.rsvpFacade.loadConfirmed(e)};setRSVPStatus({status:e}){this.form.patchValue({status:e},{emitEvent:!1})}onStatusChange(){this.form.valid&&this.rsvpFacade.create(this.form.getRawValue())}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=_({type:t,selectors:[["devmx-event-page"]],decls:2,vars:3,consts:[[3,"dateTime"],[3,"data"],[1,"event-page-content"],[1,"rsvp-button",3,"formGroup"],["formControlName","status",1,"rsvp-button",3,"statusChange"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Descri\xE7\xE3o"],["matTabContent",""],["label","Agenda"],["label","Organizadores"],[3,"content"],["matListItemIcon","","name","presentation"],["matListItemTitle",""],["matListItemLine",""],["matListItemMeta","","disabled","",3,"loved"],["matListItemIcon","","name","user-circle"]],template:function(a,r){if(a&1&&(u(0,Je,38,35),c(1,"async")),a&2){let h;C((h=y(1,1,r.event$))?0:-1,h)}},dependencies:[T,he,X,q,J,Y,K,Q,Me,be,Pe,Ee,ke,Se,ye,Te,pe,w,xe,ge,_e,Ce,me,ue,ae,ie,oe,ne,ee,Z,te,F,H,W],styles:["[_nghost-%COMP%]{flex:1;gap:2em;display:flex;flex-direction:column;background-color:#fff}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8em}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start;padding:2em;gap:8px;background:linear-gradient(180deg,#fff0 -12.12%,#4e4e4e40 23.23%,#0003);background-blend-mode:multiply}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{gap:1em;width:100%;display:flex;flex-flow:row wrap;justify-content:flex-start}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}@media (max-width: 767px){[_nghost-%COMP%]   form[_ngcontent-%COMP%]{justify-content:center}}[_nghost-%COMP%]   .event-page-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative}[_nghost-%COMP%]   .event-page-content[_ngcontent-%COMP%]   .rsvp-button[_ngcontent-%COMP%]{position:absolute;z-index:100;right:.4em;top:-.4em}@media (max-width: 767px){[_nghost-%COMP%]   .event-page-content[_ngcontent-%COMP%]   .rsvp-button[_ngcontent-%COMP%]{position:relative;margin-bottom:1em;right:0;top:0}}[_nghost-%COMP%]   article[_ngcontent-%COMP%]{padding:1em}@media (max-width: 600px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:100%;flex-direction:column}}"],changeDetection:0})}return t})();var tn=[{path:":id",providers:Ie,component:we,data:{breadcrumb:"Evento"},resolve:{schema:Re},children:[{path:"",data:{breadcrumb:t=>t.page.title},title:"Sobre o evento",resolve:{page:Be},component:De}]}];export{we as EventFeaturePageComponent,tn as eventFeaturePageRoutes};

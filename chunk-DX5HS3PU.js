import{a as je,b as ze,c as He}from"./chunk-2HOPKSSD.js";import{d as Be,e as Ue}from"./chunk-63ZNEFOD.js";import{a as Ee,b as Ge,c as Re,d as $e,e as qe}from"./chunk-JPDHZ47K.js";import{a as We}from"./chunk-7DKW6VJO.js";import{a as O}from"./chunk-A3E6GC6Z.js";import"./chunk-H2HTTBKR.js";import"./chunk-CLBAPE4B.js";import"./chunk-TCUMM7FE.js";import"./chunk-4CKQGU7Z.js";import{d as te,e as oe}from"./chunk-YBHSOMDM.js";import"./chunk-F3BVMBXM.js";import"./chunk-LK4I4OYB.js";import{a as Te}from"./chunk-BZWXKXY6.js";import{b as ee}from"./chunk-QUIBYDGS.js";import"./chunk-53SRZVAV.js";import"./chunk-B3U2GZDI.js";import"./chunk-4TNZY36X.js";import{a as le}from"./chunk-WHATAJZ5.js";import{a as Ne,b as Ve}from"./chunk-MVXJ3CAJ.js";import"./chunk-7OB7XCML.js";import{a as h}from"./chunk-IWCMSH75.js";import{a as f,b as k}from"./chunk-E63NTHNF.js";import{c as xe,d as Me,e as _e,f as be,k as ye}from"./chunk-V2L7SJN7.js";import{C as w,G as Le,I as P}from"./chunk-EVMZ5VSZ.js";import{b as U,c as we,e as Pe,i as j,j as z}from"./chunk-MHCZPVV3.js";import"./chunk-I7VYXJU2.js";import{a as K,c as Ie,e as Q,f as De,g as X,j as Ae,l as Z}from"./chunk-KBOBKUAD.js";import{a as I,b as D,c as A,e as L,f as T,i as M}from"./chunk-6EB4LZC4.js";import{a as H,c as W,e as u,h as Y,i as b,j as x,l as s,m as y,p as S,r as Oe,s as J,w as ke,x as F}from"./chunk-IQJW4AXX.js";import{aa as Se,ma as Fe}from"./chunk-CXBRZMUG.js";import{Ac as he,Ca as ue,F as de,Gc as Ce,L as E,Ob as N,Tc as ve,Ub as C,Zb as _,ac as $,bc as q,cc as r,d as me,dc as n,ec as l,ic as B,ka as a,lc as v,mb as d,nc as pe,t as se,ua as G,va as R,vb as p,xc as fe,yc as m,zc as ge}from"./chunk-UAGQGKX7.js";var Ye=(()=>{class e{router=a(Me);destroyRef=a(ue);authFacade=a(f);layoutFacade=a(ee);ngOnInit(){this.authFacade.auth$.pipe(h(this.destroyRef)).subscribe(o=>{o&&(this.layoutFacade.loadNavLinks(o.roles),this.waitingForLogout())}),this.authFacade.load()}waitingForLogout(){this.authFacade.auth$.pipe(h(this.destroyRef)).subscribe(o=>{o||(this.layoutFacade.resetNavLinks(),this.router.navigateByUrl("/conta/autenticacao"))})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["devmx-account-feature-shell"]],decls:1,vars:0,template:function(t,c){t&1&&l(0,"devmx-layout")},dependencies:[ye,Te],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0})}return e})();var Je=[Ue()];var Ke=e=>()=>{let i=a(f),o=i.auth$.pipe(de(t=>!!t),se(t=>t.roles[e]));return i.load(),o};var Qe=(()=>{class e{authFacade=a(f);layoutFacade=a(ee);ngOnInit(){this.authFacade.signOut(),this.layoutFacade.resetNavLinks()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["devmx-sign-out"]],decls:0,vars:0,template:function(t,c){},encapsulation:2})}return e})();var Xe=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["devmx-settings"]],decls:11,vars:0,consts:[[1,"settings-nav-list"],["mat-list-item","","routerLink","perfil","routerLinkActive","active"],["matListItemIcon","","name","doc/id-card"],["matListItemTitle",""],["mat-list-item","","routerLink","social","routerLinkActive","active"],["matListItemIcon","","name","software/window-search"]],template:function(t,c){t&1&&(r(0,"mat-nav-list",0)(1,"a",1),l(2,"devmx-icon",2),r(3,"span",3),m(4,"Perfil"),n()(),r(5,"a",4),l(6,"devmx-icon",5),r(7,"span",3),m(8,"Social"),n()()(),r(9,"section"),l(10,"router-outlet"),n())},dependencies:[Z,Ae,X,Q,K,M,H,be,xe,_e],styles:["[_nghost-%COMP%]{flex:1;gap:2em;padding:1em;display:flex;flex-flow:row wrap}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}[_nghost-%COMP%]   .settings-nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4em}"],changeDetection:0})}return e})();var ie=class extends x{constructor(){super({id:new s("",{nonNullable:!0,validators:[u.required]}),name:new s("",{nonNullable:!0,validators:[u.required]}),code:new s("",{nonNullable:!0,validators:[u.required]}),password:new s("",{nonNullable:!0,validators:[u.required,u.minLength(6)]})})}getPassword(){return this.getRawValue()}};var re=class extends x{genders=[{value:"female",viewValue:"Feminino"},{value:"male",viewValue:"Masculino"},{value:"non-binary",viewValue:"N\xE3o bin\xE1rio"},{value:"gender-fluid",viewValue:"G\xEAnero flu\xEDdo"},{value:"agender",viewValue:"Ag\xEAnero"},{value:"prefer-not-to-say",viewValue:"Prefiro n\xE3o dizer"},{value:"",viewValue:"Outro"}];get gender(){return this.controls.gender}constructor(){super({id:new s("",{nonNullable:!0,validators:[u.required]}),minibio:new s,birthday:new s,gender:new s})}getProfile(){return this.getRawValue()}};var ce=class extends x{constructor(i){super({type:new s("website",{nonNullable:!0,validators:[u.required]}),username:new s("",{nonNullable:!0,validators:[u.required]})}),i&&this.patchValue(i)}},ne=class extends ke{constructor(){super([])}add(i){this.push(new ce(i))}};var ae=class extends x{socialOptions=[{value:"website",viewValue:"Website"},{value:"github",viewValue:"Github"},{value:"linkedIn",viewValue:"Linked In"},{value:"whatsApp",viewValue:"WhatsApp"},{value:"notion",viewValue:"Notion"},{value:"instagram",viewValue:"Instagram"}];constructor(){super({id:new s("",{nonNullable:!0,validators:[u.required]}),social:new ne})}get social(){return this.controls.social}getSocial(){return this.getRawValue()}patch(i){if(this.patchValue(i),i.social&&i.social.length){this.social.clear();for(let o of i.social)this.social.add(o)}}};function ct(e,i){e&1&&m(0," Muito curta ")}function st(e,i){e&1&&m(0," Obrigat\xF3ria ")}var ot=(()=>{class e{userFacade=a(k);authFacade=a(f);messageService=a(O);form=new ie;constructor(){this.authFacade.auth$.pipe(h()).subscribe(o=>{o&&this.form.patchValue(o)})}sendCode(){this.authFacade.sendUserCode(this.form.getPassword())}onSubmit(){return this.form.valid?(this.userFacade.updatePassword(this.form.getPassword()),this.messageService.open({message:"Armazenando informa\xE7\xF5es"})):this.form.markAllAsTouched()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["devmx-security"]],decls:21,vars:3,consts:[[3,"submit","formGroup"],[1,"security-card"],[1,"security-card-header"],[1,"security-card-content"],["matInput","","formControlName","name","autocomplete","username","readonly",""],["matInput","","type","password","formControlName","password","autocomplete","new-password"],["type","button","mat-button","",3,"click"],["formControlName","code"],["align","end"],["mat-button",""]],template:function(t,c){t&1&&(r(0,"form",0),v("submit",function(){return c.onSubmit()}),r(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title"),m(4,"Seguran\xE7a"),n()(),r(5,"mat-card-content",3)(6,"mat-form-field"),l(7,"input",4),n(),r(8,"mat-form-field")(9,"mat-label"),m(10,"Senha"),n(),l(11,"input",5),r(12,"mat-error"),N(13,ct,1,0)(14,st,1,0),n()(),r(15,"button",6),v("click",function(){return c.sendCode()}),m(16," Enviar c\xF3digo para meu e-mail "),n(),l(17,"devmx-code-field",7),n(),r(18,"mat-card-actions",8)(19,"button",9),m(20,"Savar"),n()()()()),t&2&&(C("formGroup",c.form),d(13),_(c.form.controls.password.hasError("minLength")?13:-1),d(),_(c.form.controls.password.hasError("required")?14:-1))},dependencies:[F,y,W,Y,b,S,J,z,j,U,we,We,P,w,oe,te,M,I,L,A,T,D],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{gap:1em;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .security-card[_ngcontent-%COMP%]{gap:2em;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .security-card-header[_ngcontent-%COMP%]{padding-bottom:1em;border-bottom:1px dashed rgba(0,0,0,.1)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .security-card-content[_ngcontent-%COMP%]{gap:1em;width:16em;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .security-card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start}"],changeDetection:0})}return e})();var dt=(e,i)=>i.value;function ut(e,i){if(e&1&&(r(0,"mat-option",9),m(1),n()),e&2){let o=i.$implicit;C("value",o.value),d(),he(" ",o.viewValue," ")}}var it=(()=>{class e{userFacade=a(k);authFacade=a(f);messageService=a(O);form=new re;constructor(){this.userFacade.profile$.pipe(h()).subscribe(t=>{t&&this.form.patchValue(t)}),this.authFacade.auth$.pipe(E(1)).subscribe(t=>{t&&this.userFacade.loadOne(t.id)})}onSubmit(){return this.form.valid?(this.userFacade.updateProfile(this.form.getProfile()),this.messageService.open({message:"Armazenando informa\xE7\xF5es"})):this.form.markAllAsTouched()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["devmx-profile"]],features:[Ce([Se()])],decls:28,vars:3,consts:[["picker",""],[3,"submit","formGroup"],[1,"profile-card"],[1,"profile-card-header"],["label","Bio","hint","Voc\xEA pode usar markdown aqui","formControlName","minibio","autofocus",""],["align","end"],["mat-button",""],[1,"profile-card-content"],["formControlName","gender"],[3,"value"],["matInput","","formControlName","birthday","readonly","","tabindex","-1",3,"matDatepicker"],["matIconSuffix","",3,"for"]],template:function(t,c){if(t&1){let g=B();r(0,"form",1),v("submit",function(){return G(g),R(c.onSubmit())}),r(1,"mat-card",2)(2,"mat-card-header",3)(3,"mat-card-title"),m(4,"Perfil"),n()(),l(5,"devmx-editor",4),r(6,"mat-card-actions",5)(7,"button",6),m(8,"Savar"),n()()(),r(9,"mat-card",2)(10,"mat-card-content",7)(11,"section")(12,"mat-form-field")(13,"mat-label"),m(14,"G\xEAnero"),n(),r(15,"mat-select",8),$(16,ut,2,2,"mat-option",9,dt),n()(),r(18,"mat-form-field")(19,"mat-label"),m(20,"Data de nascimento"),n(),l(21,"input",10)(22,"mat-datepicker-toggle",11)(23,"mat-datepicker",null,0),n()()(),r(25,"mat-card-actions",5)(26,"button",6),m(27,"Savar"),n()()()()}if(t&2){let g=fe(24);C("formGroup",c.form),d(16),q(c.form.genders),d(5),C("matDatepicker",g),d(),C("for",g)}},dependencies:[F,y,W,Y,b,S,J,qe,Ge,Re,$e,z,j,U,Pe,Ee,Ve,Ne,Fe,P,w,oe,te,M,I,L,A,T,D],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{gap:1em;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{gap:2em;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .profile-card-header[_ngcontent-%COMP%]{padding-bottom:1em;border-bottom:1px dashed rgba(0,0,0,.1)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1;gap:1em;display:flex;flex-direction:row wrap}"],changeDetection:0})}return e})();function rt(e){let i={type:je({order:1,label:"Tipo",options:[{value:"website",text:"Website"},{value:"github",text:"Github"},{value:"linkedIn",text:"Linked In"},{value:"whatsApp",text:"WhatsApp"},{value:"notion",text:"Notion"},{value:"instagram",text:"Instagram"}],value:"website"}),username:ze({order:2,label:"Usu\xE1rio ou URL",type:"text",autocomplete:"username",errors:{required:"Obrigat\xF3rio"}})},o=He(i);return{open:()=>e.open({title:"Social",fields:i,form:o}).afterClosed()}}var pt=(e,i)=>i.type;function ft(e,i){e&1&&l(0,"devmx-icon",7)}function gt(e,i){e&1&&l(0,"devmx-icon",8)}function ht(e,i){e&1&&l(0,"devmx-icon",9)}function Ct(e,i){e&1&&l(0,"devmx-icon",10)}function vt(e,i){e&1&&l(0,"devmx-icon",11)}function xt(e,i){e&1&&l(0,"devmx-icon",12)}function Mt(e,i){if(e&1){let o=B();r(0,"mat-list-item"),N(1,ft,1,0,"devmx-icon",7)(2,gt,1,0,"devmx-icon",8)(3,ht,1,0,"devmx-icon",9)(4,Ct,1,0,"devmx-icon",10)(5,vt,1,0,"devmx-icon",11)(6,xt,1,0,"devmx-icon",12),r(7,"span",13),m(8),n(),r(9,"button",14),v("click",function(){let c=G(o).$index,g=pe();return R(g.form.social.removeAt(c))}),l(10,"devmx-icon",15),n()()}if(e&2){let o,t=i.$implicit;d(),_((o=t.type)==="whatsApp"?1:o==="github"?2:o==="linkedIn"?3:o==="instagram"?4:o==="notion"?5:6),d(7),ge(t.username)}}function _t(e,i){e&1&&m(0," Adicionar outra ")}function bt(e,i){e&1&&m(0," Adicione seu primeiro link social ")}var nt=(()=>{class e{userFacade=a(k);cdr=a(ve);authFacade=a(f);messageService=a(O);dialog=rt(a(Be));form=new ae;constructor(){this.userFacade.social$.pipe(h()).subscribe(t=>{t&&this.form.patch(t)}),this.authFacade.auth$.pipe(h()).subscribe(t=>{t&&this.userFacade.loadOne(t.id)})}add(){this.dialog.open().pipe(E(1)).subscribe(t=>{t&&this.form.social.add(t),this.cdr.detectChanges()})}onSubmit(){return this.form.valid?(this.userFacade.updateSocial(this.form.getSocial()),this.messageService.open({message:"Armazenando informa\xE7\xF5es"})):this.form.markAllAsTouched()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["devmx-social"]],decls:15,vars:2,consts:[[3,"submit","formGroup"],[1,"social-card"],[1,"social-card-header"],["formArrayName","social"],["type","button","mat-button","",3,"click"],["align","end"],["mat-button",""],["matListItemIcon","","name","social/whatsapp"],["matListItemIcon","","name","social/github"],["matListItemIcon","","name","social/linkedin"],["matListItemIcon","","name","social/instagram"],["matListItemIcon","","name","social/notion"],["matListItemIcon","","name","link"],["matListItemTitle",""],["type","button","matListItemMeta","","mat-icon-button","",3,"click"],["name","trash"]],template:function(t,c){t&1&&(r(0,"form",0),v("submit",function(){return c.onSubmit()}),r(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title"),m(4,"Social"),n()(),r(5,"mat-list"),$(6,Mt,11,2,"mat-list-item",null,pt),n(),r(8,"mat-card-content",3)(9,"button",4),v("click",function(){return c.add()}),N(10,_t,1,0)(11,bt,1,0),n()(),r(12,"mat-card-actions",5)(13,"button",6),m(14,"Savar"),n()()()()),t&2&&(C("formGroup",c.form),d(6),q(c.form.value.social),d(4),_(c.form.social.length?10:11))},dependencies:[F,y,b,S,Oe,P,w,Le,M,I,L,A,T,D,Z,De,X,Q,K,Ie,H],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{gap:1em;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .social-card[_ngcontent-%COMP%]{gap:2em;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .social-card-header[_ngcontent-%COMP%]{padding-bottom:1em;border-bottom:1px dashed rgba(0,0,0,.1)}"],changeDetection:0})}return e})();var xi=[{path:"autenticacao",loadChildren:()=>import("./chunk-VZ5WB2PV.js").then(e=>e.accountFeatureAuthRoutes)},{path:"",canActivate:[Ke("member")],providers:Je,component:Ye,data:{breadcrumb:"Conta"},children:[{path:"administracao",canActivate:[le("manager","director","staff","leader")],loadChildren:()=>me(void 0,null,function*(){return import("./chunk-IONWEGKA.js").then(e=>e.accountFeatureAdminRoutes)})},{path:"dashboard",canActivate:[le("manager","director")],loadChildren:()=>me(void 0,null,function*(){return import("./chunk-DFDFGS3E.js").then(e=>e.accountFeatureBoardRoutes)})},{path:"configuracoes",component:Xe,children:[{path:"perfil",component:it},{path:"social",component:nt},{path:"seguranca",component:ot},{path:"",pathMatch:"prefix",redirectTo:"perfil"}]},{path:"sair",component:Qe},{path:"",pathMatch:"full",redirectTo:"configuracoes"}]}];export{Ye as AccountFeatureShellComponent,xi as accountFeatureShellRoutes};

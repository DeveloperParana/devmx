import{a as be,b as Ee,c as ye,d as Se}from"./chunk-VSAUFU5T.js";import{a as Ce,b as xe,c as he,d as Pe}from"./chunk-2SAHWZOE.js";import{b as O}from"./chunk-RDOH2E2X.js";import{a as ge}from"./chunk-TOJPO7QV.js";import{a as Me}from"./chunk-ZR4PYGAM.js";import"./chunk-MN2QX6OM.js";import"./chunk-M5O2VH4C.js";import{c as b,d as de,f as ce,h as ue}from"./chunk-QX6FSDGO.js";import"./chunk-XIUDFJWJ.js";import{a as fe}from"./chunk-DXVLLLTA.js";import{d as se}from"./chunk-WYCWMXPA.js";import{e as Te,i as Fe,j as Oe,m as we}from"./chunk-HODF7HCV.js";import"./chunk-IRYLCLPE.js";import"./chunk-OKCIW3BB.js";import{g as S,h as J,j as Y,p as T}from"./chunk-I77QJBBK.js";import{a as _e}from"./chunk-FGIWLLTD.js";import"./chunk-THCNWKDC.js";import"./chunk-SOKUPTDF.js";import{a as te,b as ne,c as ie,e as oe,f as ae,g as re,l as me}from"./chunk-MVGT6HIX.js";import{i as ve}from"./chunk-EKMWFXOB.js";import"./chunk-WLWXH53B.js";import"./chunk-ZA3WZWW5.js";import{a as F,h as q,i as K,m as Q,p as X,s as Z,x as ee,y as w}from"./chunk-57VKPFDS.js";import{Ea as pe,Ga as le}from"./chunk-XMIP7OAF.js";import"./chunk-I7VYXJU2.js";import{$b as R,$d as H,Ac as M,Bc as z,G as _,Ia as $,Ja as I,Kc as v,Mc as c,Nc as y,Ob as u,Oc as g,Ub as p,Zb as x,ac as B,bc as k,ca as j,cc as n,dc as i,ec as l,ic as G,la as s,lc as E,mb as o,me as W,nc as f,se as U,u as P,ua as N,v as V,va as A,vb as C,yc as d,zc as L}from"./chunk-FZSJMIDG.js";var Re=(()=>{class e{route=s(S);script=s(ge);constructor(){this.route.data.pipe(_(({schema:t})=>!!t),P(({schema:t})=>t),w()).subscribe(t=>{let a="application/ld+json",r=JSON.stringify(t,null,2);this.script.addScript({type:a},r)})}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=C({type:e,selectors:[["devmx-event-feature-page"]],decls:2,vars:0,template:function(a,r){a&1&&(n(0,"devmx-app-shell"),l(1,"router-outlet"),i())},dependencies:[T,J,O,fe],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0})}return e})();var Be=[];var ke=e=>ue(s(b),e.params);var Le=e=>{let m=e.parent?e.parent.params:e.params;return ce(s(b),m)};var Ae=e=>({active:e}),De=(()=>{class e{loved=I(!1);loveChange=$();disabled=I(!1);isDisabled(){return this.disabled()===""?!0:this.disabled()}onClick(){this.loveChange.emit(!this.loved())}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=C({type:e,selectors:[["devmx-heart-button"]],inputs:{loved:[1,"loved"],disabled:[1,"disabled"]},outputs:{loveChange:"loveChange"},decls:2,vars:4,consts:[["mat-icon-button","",3,"click","disabled","ngClass"],["name","heart"]],template:function(a,r){a&1&&(n(0,"button",0),E("click",function(){return r.onClick()}),l(1,"devmx-icon",1),i()),a&2&&p("disabled",r.disabled())("ngClass",v(2,Ae,r.loved()))},dependencies:[pe,F,H],encapsulation:2})}return e})();var $e=e=>[e],Ge=e=>({right:e}),ze=e=>({outlets:e}),He=e=>["/","apresentacoes",e];function We(e,m){if(e&1&&l(0,"devmx-maps-button",1),e&2){let t=f();p("data",t)}}function Ue(e,m){if(e&1&&l(0,"devmx-youtube-button",1),e&2){let t=f();p("data",t)}}function Je(e,m){if(e&1&&(n(0,"article"),l(1,"devmx-markdown-view",10),i()),e&2){let t=f();o(),p("content",t.description)}}function Ye(e,m){if(e&1&&(n(0,"a",11),l(1,"devmx-icon",12),n(2,"div",13),d(3),i(),n(4,"span",14),d(5),i(),l(6,"devmx-heart-button",15),i()),e&2){let t=m.$implicit;p("routerLink",v(11,He,v(9,ze,v(7,Ge,v(5,$e,t.id))))),o(3),z(" ",t.title,", por ",t.owner.displayName," "),o(2),M(" ",t.description," "),o(),p("loved",!1)}}function qe(e,m){if(e&1&&(n(0,"mat-list"),B(1,Ye,7,13,"a",11,R),i()),e&2){let t=f(2);o(),k(t.presentations)}}function Ke(e,m){e&1&&(n(0,"mat-tab",8),u(1,qe,3,0,"ng-template",7),i())}function Qe(e,m){if(e&1&&(n(0,"mat-list-item"),l(1,"devmx-icon",16),n(2,"div",13),d(3),i()()),e&2){let t=m.$implicit;o(3),L(t.displayName)}}function Xe(e,m){if(e&1&&B(0,Qe,4,1,"mat-list-item",null,R),e&2){let t=f(2);k(t.leaders)}}function Ze(e,m){if(e&1&&(n(0,"mat-list"),u(1,Xe,2,0),i()),e&2){let t=f();o(),x(t.leaders.length?1:-1)}}function et(e,m){if(e&1){let t=G();n(0,"header")(1,"hgroup")(2,"h1"),d(3),i(),n(4,"h3")(5,"span")(6,"time",0),c(7,"date"),d(8),c(9,"date"),i()(),n(10,"span"),d(11," das "),i(),n(12,"time",0),c(13,"date"),d(14),c(15,"date"),i(),n(16,"span"),d(17," at\xE9 "),i(),n(18,"time",0),c(19,"date"),d(20),c(21,"date"),i()()(),n(22,"nav"),l(23,"devmx-calendar-button",1),u(24,We,1,1,"devmx-maps-button",1),c(25,"showEventAddress"),u(26,Ue,1,1,"devmx-youtube-button",1),c(27,"showEventLink"),l(28,"devmx-whats-app-button",1),i()(),n(29,"section",2)(30,"form",3)(31,"devmx-rsvp-button",4),E("statusChange",function(){N(t);let r=f();return A(r.onStatusChange())}),i()(),n(32,"mat-tab-group",5)(33,"mat-tab",6),u(34,Je,2,1,"ng-template",7),i(),u(35,Ke,2,0,"mat-tab",8),n(36,"mat-tab",9),u(37,Ze,2,1,"ng-template",7),i()()()}if(e&2){let t=m,a=f();o(3),L(t.title),o(3),p("dateTime",g(7,13,t.date,"longDate")),o(2),M(" ",g(9,16,t.date,"longDate")," "),o(4),p("dateTime",g(13,19,t.start,"shortTime")),o(2),M(" ",g(15,22,t.start,"shortTime"),"h "),o(4),p("dateTime",g(19,25,t.end,"shortTime")),o(2),M(" ",g(21,28,t.end,"shortTime"),"h "),o(3),p("data",t),o(),x(y(25,31,t.format)&&t.address?24:-1),o(2),x(y(27,33,t.format)&&t.link?26:-1),o(2),p("data",t),o(2),p("formGroup",a.form),o(5),x(t.presentations.length?35:-1)}}var Ve=(()=>{class e{authFacade=s(_e);rsvpFacade=s(de);route=s(S);event$=this.route.data.pipe(_(({page:t})=>!!t),P(({page:t})=>t),j(t=>this.setRSVPEvent(t.id)));form=new we;constructor(){if(localStorage.getItem("accessToken")){this.authFacade.load();let t=this.authFacade.auth$.pipe(_(r=>!!r),P(r=>r.id)),a=this.rsvpFacade.response$.pipe(_(r=>r.length>0));V([t,a]).pipe(w()).subscribe(([r,h])=>{let D=h.find(je=>je.user.id===r);D&&this.setRSVPStatus(D)})}}setRSVPEvent=t=>{this.form.patchValue({event:t}),this.rsvpFacade.loadConfirmed(t)};setRSVPStatus({status:t}){this.form.patchValue({status:t},{emitEvent:!1})}onStatusChange(){this.form.valid&&this.rsvpFacade.create(this.form.getRawValue())}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=C({type:e,selectors:[["devmx-event-page"]],decls:2,vars:3,consts:[[3,"dateTime"],[3,"data"],[1,"event-page-content"],[1,"rsvp-button",3,"formGroup"],["formControlName","status",1,"rsvp-button",3,"statusChange"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Descri\xE7\xE3o"],["matTabContent",""],["label","Apresenta\xE7\xF5es"],["label","Organizadores"],[3,"content"],["mat-list-item","","lines","3",3,"routerLink"],["matListItemIcon","","name","presentation"],["matListItemTitle",""],["matListItemLine",""],["matListItemMeta","","disabled","",3,"loved"],["matListItemIcon","","name","user-circle"]],template:function(a,r){if(a&1&&(u(0,et,38,35),c(1,"async")),a&2){let h;x((h=y(1,1,r.event$))?0:-1,h)}},dependencies:[T,Y,Me,ee,Q,q,K,X,Z,Ee,ye,be,Se,De,Fe,Te,Oe,se,O,Pe,Ce,xe,he,le,ve,me,ae,re,oe,ne,te,ie,F,W,U],styles:["[_nghost-%COMP%]{flex:1;gap:2em;display:flex;flex-direction:column;background-color:#fff}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8em}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start;padding:2em;gap:8px;background:linear-gradient(180deg,#fff0 -12.12%,#4e4e4e40 23.23%,#0003);background-blend-mode:multiply}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{gap:1em;width:100%;display:flex;flex-flow:row wrap;justify-content:flex-start}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}@media (max-width: 767px){[_nghost-%COMP%]   form[_ngcontent-%COMP%]{justify-content:center}}[_nghost-%COMP%]   .event-page-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative}[_nghost-%COMP%]   .event-page-content[_ngcontent-%COMP%]   .rsvp-button[_ngcontent-%COMP%]{position:absolute;z-index:100;right:.4em;top:-.4em}@media (max-width: 767px){[_nghost-%COMP%]   .event-page-content[_ngcontent-%COMP%]   .rsvp-button[_ngcontent-%COMP%]{position:relative;margin-bottom:1em;right:0;top:0}}[_nghost-%COMP%]   article[_ngcontent-%COMP%]{padding:1em}@media (max-width: 600px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:100%;flex-direction:column}}"],changeDetection:0})}return e})();var pn=[{path:":id",providers:Be,component:Re,data:{breadcrumb:"Evento"},resolve:{schema:ke},children:[{path:"",data:{breadcrumb:e=>e.page.title},title:"Sobre o evento",resolve:{page:Le},component:Ve}]}];export{Re as EventFeaturePageComponent,pn as eventFeaturePageRoutes};

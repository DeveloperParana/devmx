import{d as O,e as j}from"./chunk-RVPPSBWD.js";import{i as N,j as x}from"./chunk-K7PNGXRF.js";import{c as g,e as _,g as h,h as A,i as U,j as E,l as C,p as S,s as T,u as B,v as P,x as R}from"./chunk-OOV3P5QF.js";import{Gb as F,Ka as v,Kb as b,Sb as D,ac as d,bc as f,gc as k,jc as c,mb as m,sb as w,tc as I,ua as u,ub as V,uc as M,va as a,vc as p,wb as y}from"./chunk-3DLDMRAG.js";var q=(()=>{class l{ngControl;constructor(n){this.ngControl=n}onInput(n){this.#e(n.toUpperCase())}#e(n){this.ngControl.control&&this.ngControl.control.setValue(n,{emitEvent:!1})}static \u0275fac=function(e){return new(e||l)(m(h))};static \u0275dir=y({type:l,selectors:[["input","devmxUpper",""]],hostBindings:function(e,i){e&1&&c("input",function(o){return i.onInput(o.target.value)})}})}return l})();var L=["inputA"],pe=(()=>{class l extends g{elRef;ngControl;inputA=F("inputA");get inputAElm(){return this.inputA()?.nativeElement}get control(){return this.ngControl.control}constructor(n,e,i){super(n,e,!0),this.elRef=e,this.ngControl=i,this.ngControl.valueAccessor=this,this.form.valueChanges.subscribe(()=>{if(this.form.valid){let{a:r,b:o,c:t,d:s}=this.form.getRawValue();this.control.setValue(`${r+o+t+s}`.toUpperCase())}})}form=new E({a:new C("",{nonNullable:!0,validators:[_.required]}),b:new C("",{nonNullable:!0,validators:[_.required]}),c:new C("",{nonNullable:!0,validators:[_.required]}),d:new C("",{nonNullable:!0,validators:[_.required]})});onInput(n,e){n.value.length===1&&e&&e.focus()}onPaste(n,e){n.preventDefault();let i=n.clipboardData?.getData("text")??"";if(i.length===4){let[r,o,t,s]=i.split("");this.form.controls.a.setValue(r),this.form.controls.b.setValue(o),this.form.controls.c.setValue(t),this.form.controls.d.setValue(s),e.focus()}}static \u0275fac=function(e){return new(e||l)(m(w),m(v),m(h,10))};static \u0275cmp=V({type:l,selectors:[["devmx-code-field"]],viewQuery:function(e,i){e&1&&I(i.inputA,L,5),e&2&&M()},exportAs:["devmxCodeField"],features:[b],decls:13,vars:1,consts:[["inputA",""],["inputB",""],["inputC",""],["inputD",""],[3,"formGroup"],[1,"code-field"],["matInput","","devmxUpper","","minlength","1","maxlength","1","formControlName","a",3,"input","paste"],["matInput","","devmxUpper","","minlength","1","maxlength","1","formControlName","b",3,"input","keyup.backspace"],["matInput","","devmxUpper","","minlength","1","maxlength","1","formControlName","c",3,"input","keyup.backspace"],["matInput","","devmxUpper","","minlength","1","maxlength","1","formControlName","d",3,"input","keyup.backspace"]],template:function(e,i){if(e&1){let r=k();d(0,"div",4)(1,"mat-form-field",5)(2,"input",6,0),c("input",function(){u(r);let t=p(3),s=p(6);return a(i.onInput(t,s))})("paste",function(t){u(r);let s=p(12);return a(i.onPaste(t,s))}),f()(),d(4,"mat-form-field",5)(5,"input",7,1),c("input",function(){u(r);let t=p(6),s=p(9);return a(i.onInput(t,s))})("keyup.backspace",function(){u(r);let t=p(3);return a(t.focus())}),f()(),d(7,"mat-form-field",5)(8,"input",8,2),c("input",function(){u(r);let t=p(9),s=p(12);return a(i.onInput(t,s))})("keyup.backspace",function(){u(r);let t=p(6);return a(t.focus())}),f()(),d(10,"mat-form-field",5)(11,"input",9,3),c("input",function(){u(r);let t=p(12);return a(i.onInput(t))})("keyup.backspace",function(){u(r);let t=p(9);return a(t.focus())}),f()()()}e&2&&D("formGroup",i.form)},dependencies:[R,g,A,U,B,P,S,T,x,N,j,O,q],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{gap:1em;display:flex;justify-content:space-between}[_nghost-%COMP%]   .code-field[_ngcontent-%COMP%]{width:2.8em}"],changeDetection:0})}return l})();export{pe as a};

import{a as dn}from"./chunk-2XRD5WFN.js";import{a as Ii}from"./chunk-NVIABFJK.js";import{a as Qi,b as Wi,c as Xi,d as Zi}from"./chunk-EM5KWFAO.js";import{a as De,b as Ji}from"./chunk-AU6WMAO7.js";import{a as en,b as tn,c as nn,d as on,e as an,f as rn,g as sn,h as ln,i as mn,j as cn,k as pn}from"./chunk-XGGH237L.js";import{a as Ze,b as Ki}from"./chunk-H3ZIAGKZ.js";import{a as Yi}from"./chunk-HODCIY6R.js";import{a as vi}from"./chunk-ISSWQEYY.js";import{a as yi}from"./chunk-ZHS65JNW.js";import{a as Di}from"./chunk-O7QS2IT6.js";import{i as Ui,j as qi}from"./chunk-EYUZKO7E.js";import{a as Ri}from"./chunk-TICJBGV4.js";import{c as ki,d as he,e as _e}from"./chunk-JT2DD3I4.js";import{a as Ni,b as $i,c as Bi,d as Hi,e as Gi,g as ji}from"./chunk-K6Y2H3WU.js";import{c as Ai,d as Vi,e as Li}from"./chunk-NPMORKR4.js";import"./chunk-L5QPKMYH.js";import{a as Mi,b as bi,c as We}from"./chunk-JPPPJ66P.js";import{a as Ci,b as xi}from"./chunk-TVK3WGM6.js";import{e as gi}from"./chunk-77LUSSRW.js";import{c as Pi,d as Oi,e as Fi}from"./chunk-7D77PB33.js";import"./chunk-TJC2M7GG.js";import"./chunk-2IAXMR6M.js";import{a as fi,b as hi,c as Q,d as Qe,g as _i}from"./chunk-N7BIZ4IF.js";import{a as fe}from"./chunk-A3N3AUUJ.js";import"./chunk-AGASFBK3.js";import{F as ui,a as ni,k as je,l as oi,n as Ke,r as ci,s as A,t as pi,u as E,w as di}from"./chunk-F6MSXSHK.js";import{f as zi}from"./chunk-BAL42JL4.js";import"./chunk-NQHJHN2L.js";import"./chunk-27JLR3AO.js";import{a as le,c as me,e as Ye,f as ce,g as pe,i as de,l as ue}from"./chunk-PAP2P7QR.js";import{a as Ei,b as Si,e as Ti,f as wi,i as Xe}from"./chunk-EC6LD5KM.js";import{a as D,b as ai,c as z,d as ri,e as k,f as O,g as si,h as Y,i as F,j as G,l as h,m as Ue,n as li,p as I,r as qe,s as K,t as mi,w as ze,x as R}from"./chunk-EDIJ2EBQ.js";import{b as ae,c as ti,e as Ge,g as ii,i as re,j as se}from"./chunk-QOJBU3AI.js";import{g as ne,h as qt,i as $e,j as lt,p as Be}from"./chunk-KXTQ2UTD.js";import{$ as pt,I as Wt,T as Xt,U as Zt,_ as we,aa as Jt,ka as ei,na as oe,o as Qt,s as ct}from"./chunk-W5KNOAKV.js";import{c as zt,d as He,e as Yt,g as Te,h as Kt,j as mt}from"./chunk-I7VYXJU2.js";import{$b as b,Aa as St,Eb as Ot,Ec as Ae,F as xt,Fb as Ie,Fc as N,Gb as ie,Ha as te,Hb as Ft,Hc as Bt,Ia as v,Ja as xe,Jb as It,Jc as q,Kb as Rt,Kc as Ve,L as V,Lc as Le,Nb as C,Nc as Ht,Ob as At,Pb as Vt,Sb as be,Sc as Gt,Tb as u,Va as Tt,Vc as ye,Xc as Ee,Y as Oe,Yb as w,Yc as Ne,Zc as Se,ac as y,bc as s,cc as r,d as Ct,dc as c,ec as B,ed as jt,fa as Mt,fc as H,gb as wt,ha as bt,hc as P,ic as Lt,jb as Me,je as Ut,ka as l,kc as f,lb as m,mb as Fe,mc as x,nc as Nt,oc as $t,sb as Dt,t as ee,ta as S,u as Pe,ua as T,ub as _,uc as J,va as yt,vb as kt,vc as Re,wb as Pt,wc as st,xc as d,yc as U,za as Et,zc as L}from"./chunk-TEKHUYWQ.js";var un=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["devmx-event-feature-admin"]],decls:1,vars:0,template:function(t,n){t&1&&c(0,"router-outlet")},dependencies:[qt],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0})}return i})();var Je=class extends G{constructor(){super({src:new h("",{nonNullable:!0}),alt:new h("",{nonNullable:!0})})}};var Bn=["box"],Hn=["overlay"],Gn=["image"],et=i=>`${i}px`,fn=(()=>{class i{src=v("");aspectRatio=v(16/9);width=v(null);height=v(null);cropChange=te();boxRef=ie("box");get box(){let e=this.boxRef();if(!e)throw"box error";return e.nativeElement}overlayRef=ie("overlay");get overlay(){let e=this.overlayRef();if(!e)throw"overlay error";return e.nativeElement}imageRef=ie("image");get image(){let e=this.imageRef();if(!e)throw"error";return e.nativeElement}#e=null;#t=null;loaded=!1;ngOnInit(){let e=this.src();this.image.onload=()=>{this.loaded=!0,this.setInitialPosition()},this.box.addEventListener("touchstart",this.startUpdate.bind(this),{passive:!0}),this.image.src=e}setInitialPosition(){let{clientWidth:e,clientHeight:t}=this.image,n=this.width()??Math.round(e/2),a=this.height()??n;this.aspectRatio&&(a=Math.round(n/this.aspectRatio()));let p=(e-n)/2,g=(t-a)/2;this.#e=new je(p,g),this.updateDimensions(n,a)}updateDimensions(e,t,n=!0){if(!this.#e)return;let{offsetLeft:a,offsetTop:p}=this.box,{clientWidth:g,clientHeight:M}=this.image,j=Math.min(e,g-this.#e.x),ve=Math.min(t,M-this.#e.y),X=n?Math.round(Math.max(0,this.#e.x)):a,Z=n?Math.round(Math.max(0,this.#e.y)):p;this.box.style.left=et(X),this.box.style.top=et(Z),this.box.style.width=et(j),this.box.style.height=et(ve),this.updateOverlay(X,Z,j,ve);let Ce=new DOMRect(X,Z,j,ve);this.fireChangeEvent(Ce)}updateOverlay(e,t,n,a){this.overlay.style.clipPath=`polygon(
      0% 0%, 0% 100%, 100% 100%, 100% 0%,
      ${e}px 0%, ${e}px ${t}px,
      ${e+n}px ${t}px, ${e+n}px ${t+a}px,
      ${e}px ${t+a}px, ${e}px ${t}px,
      ${e}px 0%, 0% 0%
    )`}fireChangeEvent(e){let t=this.image,n=t.naturalWidth/t.clientWidth;e=new DOMRect(Math.round(e.x*n),Math.round(e.y*n),Math.round(e.width*n),Math.round(e.height*n)),this.cropChange.emit(e)}stopUpdate(){this.#t=null,this.box.classList.remove("nwse","nesw")}startUpdate(e){if(!(e.target instanceof HTMLElement))return;let t="touches"in e?e.touches[0].pageX:e.pageX,n="touches"in e?e.touches[0].pageY:e.pageY;this.#t=new je(t,n)}moveCropArea(e){if(!this.#t)return;let t="touches"in e?e.touches[0].pageX:e.pageX,n="touches"in e?e.touches[0].pageY:e.pageY,a=t-this.#t.x,p=n-this.#t.y,g=this.box,M=this.image,{offsetLeft:j,offsetTop:ve,offsetWidth:X,offsetHeight:Z}=g,Ce=Math.min(Math.max(0,j+a),M.clientWidth-X),rt=Math.min(Math.max(0,ve+p),M.clientHeight-Z);g.style.left=`${Ce}px`,g.style.top=`${rt}px`,this.updateOverlay(Ce,rt,X,Z);let $n=new DOMRect(Ce,rt,X,Z);this.fireChangeEvent($n),this.#t=new je(t,n)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["devmx-crop-image"]],viewQuery:function(t,n){t&1&&(J(n.boxRef,Bn,5),J(n.overlayRef,Hn,5),J(n.imageRef,Gn,5)),t&2&&Re(3)},hostBindings:function(t,n){t&1&&f("mouseup",function(){return n.stopUpdate()},!1,Me)("touchend",function(){return n.stopUpdate()},!1,Me)("mousedown",function(p){return n.startUpdate(p)})("mousemove",function(p){return n.moveCropArea(p)},!1,Me)("touchmove",function(p){return n.moveCropArea(p)},!1,Me)},inputs:{src:[1,"src"],aspectRatio:[1,"aspectRatio"],width:[1,"width"],height:[1,"height"]},outputs:{cropChange:"cropChange"},decls:9,vars:1,consts:[["image",""],["box",""],["overlay",""],[1,"crop-wrapper"],["alt","imagem para recorte",1,"crop-image",3,"src"],[1,"crop-container"],[1,"crop-box"],[1,"crop-outline"],[1,"crop-overlay"]],template:function(t,n){t&1&&(s(0,"div",3),c(1,"img",4,0),s(3,"div",5)(4,"div",6,1),c(6,"div",7),r(),c(7,"div",8,2),r()()),t&2&&(m(),u("src",n.src(),wt))},styles:["[_nghost-%COMP%]{display:block;touch-action:none;position:relative}[_nghost-%COMP%]   .crop-wrapper[_ngcontent-%COMP%]{position:relative;font-size:0}[_nghost-%COMP%]   .crop-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:2;top:0}[_nghost-%COMP%]   .crop-image[_ngcontent-%COMP%]{display:block;max-width:100%;width:100%}[_nghost-%COMP%]   .crop-box[_ngcontent-%COMP%]{position:absolute;border:1px dashed #ccc;box-sizing:border-box;background-color:transparent;cursor:move;z-index:3}[_nghost-%COMP%]   .crop-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);pointer-events:none;z-index:1}"],changeDetection:0})}return i})();function hn({width:i,height:o}){let e=document.createElement("canvas");e.width=i,e.height=o;let t=e.getContext("2d");if(!t)throw"context error";return t}function _n(i,o){let e=hn(i),t=hn(o);return e.drawImage(i,0,0),t.drawImage(e.canvas,o.x,o.y,o.width,o.height,0,0,o.width,o.height),t.canvas.toDataURL("image/webp")}var Cn=(()=>{class i{ref=l(Ai);data=l(Vi);src;form=new Je;position=new DOMRect;constructor(){this.src=URL.createObjectURL(this.data)}onCropChange(e){this.position=e}onCrop(){return Ct(this,null,function*(){let e=yield dn(this.src),t=_n(e,this.position);this.form.patchValue({src:t}),this.ref.close(this.form.getRawValue())})}close(){this.ref.close()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["devmx-select-cover"]],decls:8,vars:3,consts:[[3,"cropChange","src","width"],[3,"submit","formGroup"],["matInput","","formControlName","alt"],["mat-icon-button",""],["name","menu/crop"]],template:function(t,n){t&1&&(s(0,"devmx-crop-image",0),f("cropChange",function(p){return n.onCropChange(p)}),r(),s(1,"form",1),f("submit",function(){return n.onCrop()}),s(2,"mat-form-field")(3,"mat-label"),d(4,"Texto alternativo"),r(),c(5,"input",2),r(),s(6,"button",3),c(7,"devmx-icon",4),r()()),t&2&&(u("src",n.src)("width",980),m(),u("formGroup",n.form))},dependencies:[R,Ue,z,Y,F,I,K,se,re,ae,fn,_e,he,E,A,D],styles:["[_nghost-%COMP%]{gap:1em;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1em}"],changeDetection:0})}return i})();var tt=class{dialog;constructor(o){this.dialog=o}open(o){return this.dialog.open(Cn,{data:o}).closed.pipe(V(1))}};function xn(){return{provide:tt,deps:[Li]}}var dt=(i,o)=>o.id;function jn(i,o){i&1&&c(0,"devmx-icon",5)}function Un(i,o){i&1&&c(0,"devmx-icon",6)}function qn(i,o){i&1&&c(0,"devmx-icon",7)}function zn(i,o){if(i&1&&(s(0,"mat-list-item")(1,"span",4),d(2),r(),C(3,jn,1,0,"devmx-icon",5)(4,Un,1,0,"devmx-icon",6)(5,qn,1,0,"devmx-icon",7),r()),i&2){let e,t=o.$implicit;m(2),L(" ",t.user.displayName," "),m(),w((e=t.status)==="confirmed"?3:e==="maybe"?4:e==="declined"?5:-1)}}function Yn(i,o){i&1&&c(0,"devmx-icon",5)}function Kn(i,o){i&1&&c(0,"devmx-icon",6)}function Qn(i,o){i&1&&c(0,"devmx-icon",7)}function Wn(i,o){if(i&1&&(s(0,"mat-list-item")(1,"span",4),d(2),r(),C(3,Yn,1,0,"devmx-icon",5)(4,Kn,1,0,"devmx-icon",6)(5,Qn,1,0,"devmx-icon",7),r()),i&2){let e,t=o.$implicit;m(2),L(" ",t.user.displayName," "),m(),w((e=t.status)==="confirmed"?3:e==="maybe"?4:e==="declined"?5:-1)}}function Xn(i,o){i&1&&c(0,"devmx-icon",5)}function Zn(i,o){i&1&&c(0,"devmx-icon",6)}function Jn(i,o){i&1&&c(0,"devmx-icon",7)}function eo(i,o){if(i&1&&(s(0,"mat-list-item")(1,"span",4),d(2),r(),C(3,Xn,1,0,"devmx-icon",5)(4,Zn,1,0,"devmx-icon",6)(5,Jn,1,0,"devmx-icon",7),r()),i&2){let e,t=o.$implicit;m(2),L(" ",t.user.displayName," "),m(),w((e=t.status)==="confirmed"?3:e==="maybe"?4:e==="declined"?5:-1)}}var bn=(()=>{class i{ref=l(Ni);data=l($i);static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["devmx-event-rsvp"]],decls:24,vars:13,consts:[["mat-dialog-title",""],["mat-subheader",""],["align","end"],["mat-button","","mat-dialog-close",""],["matListItemTitle",""],["matListItemMeta","","name","emoji/happy"],["matListItemMeta","","name","emoji/confused"],["matListItemMeta","","name","emoji/crying"]],template:function(t,n){if(t&1&&(s(0,"h2",0),d(1),r(),s(2,"mat-list"),Ae(3),q(4,"rsvpByStatus"),s(5,"h3",1),d(6),r(),b(7,zn,6,2,"mat-list-item",null,dt),Ae(9),q(10,"rsvpByStatus"),s(11,"h3",1),d(12),r(),b(13,Wn,6,2,"mat-list-item",null,dt),Ae(15),q(16,"rsvpByStatus"),s(17,"h3",1),d(18),r(),b(19,eo,6,2,"mat-list-item",null,dt),r(),s(21,"mat-dialog-actions",2)(22,"button",3),d(23,"Fechar"),r()()),t&2){m(),L("",n.data.length," respostas");let a=Le(4,4,n.data,"confirmed");m(5),L("",a.length," confirmado(s)"),m(),y(a);let p=Le(10,7,n.data,"maybe");m(5),L("",p.length," em d\xFAvida"),m(),y(p);let g=Le(16,10,n.data,"declined");m(5),L("",g.length," declinado(s)"),m(),y(g)}},dependencies:[Gi,ji,Hi,E,Ke,ue,ce,pe,de,le,me,D,zi],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.6em;font-weight:500}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1em;font-weight:400;margin:0 1em;opacity:.6}"],changeDetection:0})}return i})();var W=class{dialog;constructor(o){this.dialog=o}open(o){return this.dialog.open(bn,{data:o}).afterClosed().pipe(V(1))}};function yn(){return{provide:W,deps:[Bi]}}var En=[qi(),Ji(),xn(),yn(),Ki()];var Sn=i=>_i(l(Q),i.params);function to(i,o){i&1&&(s(0,"th",15),d(1,"T\xEDtulo do evento"),r())}function io(i,o){if(i&1&&(s(0,"td",16),d(1),r()),i&2){let e=o.$implicit;m(),U(e.title)}}function no(i,o){i&1&&(s(0,"th",15),d(1,"Criado por"),r())}function oo(i,o){if(i&1&&(s(0,"td",16),d(1),r()),i&2){let e=o.$implicit;m(),U(e.owner.displayName)}}function ao(i,o){i&1&&c(0,"th",15)}function ro(i,o){if(i&1){let e=P();s(0,"td",16)(1,"button",17),f("click",function(){let n=S(e).$implicit,a=x(2);return T(a.openDelete(n))}),c(2,"devmx-icon",18),r()()}}function so(i,o){i&1&&c(0,"tr",19)}function lo(i,o){i&1&&c(0,"tr",20)}function mo(i,o){if(i&1){let e=P();s(0,"table",5),B(1,6),C(2,to,2,0,"th",7)(3,io,2,1,"td",8),H(),B(4,9),C(5,no,2,0,"th",7)(6,oo,2,1,"td",8),H(),B(7,10),C(8,ao,1,0,"th",7)(9,ro,3,0,"td",8),H(),C(10,so,1,0,"tr",11)(11,lo,1,0,"tr",12),r(),s(12,"mat-card-actions",13)(13,"devmx-paginator",14),f("pageChange",function(n){S(e);let a=x();return T(a.onPageChange(n))}),r()()}if(i&2){let e=o,t=x();u("dataSource",e.data),m(10),u("matHeaderRowDef",t.columns),m(),u("matRowDefColumns",t.columns),m(2),u("size",10)("items",e.items)}}var Tn=(()=>{class i{router=l($e);route=l(ne);dialogFacade=l(Ze);eventFacade=l(Q);rsvpFacade=l(Qe);eventRSVP=l(W);selectUser=l(De);#e=oi(null);columns=["title","owner","actions"];constructor(){let e=this.#e.observe().pipe(ee(n=>n?n.id:"")),t=this.route.queryParams.pipe(ee(({page:n,size:a,title:p,format:g,date:M})=>({page:n,size:a,title:p,format:g,date:M})));Pe([e,t]).pipe(fe()).subscribe(this.onQueryParams),this.eventFacade.loadAll()}setUserRef(e=null){this.#e.update(e)}onQueryParams=([e,t])=>{let{page:n,size:a,title:p,format:g,date:M}=t,j={title:p,format:g,date:M,owner:e};this.eventFacade.setParams({page:n,size:a,filter:j}),this.eventFacade.load()};openSelectUser(){this.selectUser.open({onlyRole:"leader",multiple:!1}).subscribe(e=>{e&&this.#e.update(e)})}openRSVP(e){this.rsvpFacade.load(e),this.rsvpFacade.response$.pipe(Oe(1),V(1)).subscribe(t=>{t&&this.eventRSVP.open(t)})}openDelete({id:e,title:t}){this.dialogFacade.confirm(`Confirme que deseja apagar o evento ${t}`,"Esta a\xE7\xE3o n\xE3o poder\xE1 ser desfeita").subscribe(n=>{n&&this.eventFacade.delete(e)})}onSearchChange(e=""){this.eventFacade.setFilter({title:e}),this.eventFacade.loadAll()}onPageChange({page:e,size:t}){let n={page:e,size:t};this.router.navigate([],{queryParams:n})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["devmx-event-admin-manage-events"]],decls:10,vars:4,consts:[[1,"events-card"],[1,"events-card-header"],["mat-icon-button","",3,"click"],["name","filter"],[3,"searchChange","debounce"],["mat-table","",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","owner"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["align","end"],[3,"pageChange","size","items"],["mat-header-cell",""],["mat-cell",""],["type","button","mat-icon-button","",3,"click"],["name","trash"],["mat-header-row",""],["mat-row",""]],template:function(t,n){if(t&1&&(s(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),d(3,"Eventos"),r(),s(4,"div")(5,"button",2),f("click",function(){return n.openSelectUser()}),c(6,"devmx-icon",3),r(),s(7,"devmx-search-field",4),f("searchChange",function(p){return n.onSearchChange(p)}),r()()(),C(8,mo,14,5),q(9,"async"),r()),t&2){let a;m(7),u("debounce",1e3),m(),w((a=Ve(9,2,n.eventFacade.response$))?8:-1,a)}},dependencies:[Be,E,A,Ri,We,pn,en,nn,sn,on,tn,ln,an,rn,mn,cn,Xe,Ei,Ti,wi,Si,D,Ut],styles:["[_nghost-%COMP%]{flex:1;padding:1em;display:flex;flex-direction:column}[_nghost-%COMP%]   .events-card[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .events-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px dashed rgba(0,0,0,.1)}[_nghost-%COMP%]   .events-card-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{gap:2em;display:flex;align-items:baseline}[_nghost-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{max-width:3em}"],changeDetection:0})}return i})();var co=(i,o)=>o.id,po=()=>[lt,pi,A,Mi,import("./chunk-HO3VSAEE.js").then(i=>i.EventCardComponent),We,D,import("./chunk-QQ3DFMVY.js").then(i=>i.AsyncPipe)],uo=i=>["/","evento",i];function fo(i,o){if(i&1){let e=P();s(0,"devmx-event-card",3)(1,"button",7),f("click",function(){let n=S(e).$implicit,a=x(3);return T(a.openRSVP(n.id))}),c(2,"devmx-icon",8),r(),s(3,"a",9),c(4,"devmx-icon",10),r(),s(5,"a",11),c(6,"devmx-icon",12),r(),s(7,"button",13),f("click",function(){let n=S(e).$implicit,a=x(3);return T(a.deleteEvent(n))}),c(8,"devmx-icon",14),r()()}if(i&2){let e=o.$implicit;u("data",e),m(3),u("routerLink",Bt(3,uo,e.id)),m(2),u("routerLink",e.id)}}function ho(i,o){i&1&&(s(0,"div",4)(1,"h2"),d(2,"N\xE3o temos nada aqui..."),r(),s(3,"h3"),d(4," Siga nessa dire\xE7\xE3o "),c(5,"devmx-icon",15)(6,"br"),d(7," at\xE9 encontrar o bot\xE3o com um "),c(8,"devmx-icon",16)(9,"br"),d(10," e cadastre suas eventos. "),c(11,"devmx-icon",17),r()()),i&2&&(m(5),u("size",32),m(3),u("size",32),m(3),u("size",32))}function _o(i,o){if(i&1){let e=P();s(0,"div",2),b(1,fo,9,5,"devmx-event-card",3,co),r(),C(3,ho,12,3,"div",4),c(4,"div",5),s(5,"footer")(6,"devmx-paginator",6),f("pageChange",function(n){S(e);let a=x(2);return T(a.onPageChange(n))}),r()()}if(i&2){let e=o;m(),y(e.data),m(2),w(e.items?-1:3),m(3),u("size",10)("items",e.items)}}function go(i,o){if(i&1&&(C(0,_o,7,3),q(1,"async")),i&2){let e,t=x();w((e=Ve(1,1,t.eventFacade.response$))?0:-1,e)}}function vo(i,o){i&1&&(s(0,"div",2),c(1,"devmx-skeleton",18)(2,"devmx-skeleton",18)(3,"devmx-skeleton",18),r()),i&2&&(m(),u("rows",3),m(),u("rows",2),m(),u("rows",3))}var wn=(()=>{class i{router=l($e);route=l(ne);dialogFacade=l(Ze);authFacade=l(Di);eventFacade=l(Q);rsvpFacade=l(Qe);eventRSVP=l(W);constructor(){let e=this.authFacade.auth$.pipe(xt(n=>!!n),ee(({id:n})=>n)),t=this.route.queryParams.pipe(ee(({page:n,size:a,title:p,format:g,date:M})=>({page:n,size:a,title:p,format:g,date:M})));Pe([e,t]).pipe(fe()).subscribe(this.onQueryParams)}onQueryParams=([e,t])=>{let{page:n,size:a,title:p,format:g,date:M}=t,j={title:p,format:g,date:M,owner:e};this.eventFacade.setParams({page:n,size:a,filter:j}),this.eventFacade.loadAll()};openRSVP(e){this.rsvpFacade.load(e),this.rsvpFacade.response$.pipe(Oe(1),V(1)).subscribe(t=>{t&&this.eventRSVP.open(t)})}deleteEvent({id:e,title:t}){this.dialogFacade.confirm(`Confirme que deseja apagar a vaga ${t}`,"Esta a\xE7\xE3o n\xE3o poder\xE1 ser desfeita").subscribe(n=>{n&&this.eventFacade.delete(e)})}onPageChange({page:e,size:t}){let n={page:e,size:t};this.router.navigate([],{queryParams:n})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["devmx-event-admin-my-events"]],decls:6,vars:0,consts:[["mat-fab","","routerLink","novo",1,"tertiary-fab","top","right"],["name","plus"],[1,"events-container"],[3,"data"],[1,"no-events-yet"],[1,"spacer"],[3,"pageChange","size","items"],["mat-icon-button","","matTooltip","Lista de presen\xE7a","matTooltipPosition","before",3,"click"],["name","doc/check"],["mat-icon-button","","matTooltip","P\xE1gina p\xFAblica","matTooltipPosition","above",3,"routerLink"],["name","software/web-info"],["mat-icon-button","","matTooltip","Editar evento","matTooltipPosition","above",3,"routerLink"],["name","software/edit"],["type","button","mat-icon-button","","matTooltip","Apagar evento","matTooltipPosition","after",3,"click"],["name","trash-alt"],["color","#3BCE53","name","arrow/up-right",3,"size"],["color","#3BCE53","name","plus",3,"size"],["color","#3BCE53","name","emoji/smirking-alt",3,"size"],[3,"rows"]],template:function(t,n){t&1&&(s(0,"a",0),c(1,"devmx-icon",1),r(),C(2,go,2,3)(3,vo,4,3),At(4,2,po,null,3),Vt(500))},dependencies:[Be,lt,E,ci,bi,yi,D],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}[_nghost-%COMP%]   .events-container[_ngcontent-%COMP%]{gap:1em;padding:1em;display:grid;grid-auto-flow:dense;grid-template-columns:repeat(3,1fr)}@media (max-width: 1918px){[_nghost-%COMP%]   .events-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 1278px){[_nghost-%COMP%]   .events-container[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width: 767px){[_nghost-%COMP%]   .events-container[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}[_nghost-%COMP%]   .events-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{flex:1;display:flex}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .no-events-yet[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .no-events-yet[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   .no-events-yet[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;padding:0;white-space:normal}[_nghost-%COMP%]   .no-events-yet[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:160%}[_nghost-%COMP%]   .no-events-yet[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:120%;text-align:end}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],changeDetection:0})}return i})();var Co=(i,o)=>o.value;function xo(i,o){if(i&1){let e=P();s(0,"mat-list-item"),c(1,"devmx-icon",3),s(2,"span",4),d(3),r(),s(4,"button",5),f("click",function(){let n=S(e).$index,a=x(2);return T(a.form.presentations.removeAt(n))}),c(5,"devmx-icon",6),r()()}if(i&2){let e=o.$implicit;m(3),U(e.value.title)}}function Mo(i,o){if(i&1&&(s(0,"mat-list",1)(1,"p",2),d(2,"Palestras"),r(),b(3,xo,6,1,"mat-list-item",null,Co),r()),i&2){let e=x();m(3),y(e.form.presentations.controls)}}var Dn=(()=>{class i{container=l(O);get form(){return this.container.control}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["devmx-admin-event-presentations"]],features:[N([],[{provide:O,useFactory:()=>l(O,{skipSelf:!0})}])],decls:2,vars:2,consts:[[3,"formGroup"],["formArrayName","presentations"],["mat-subheader",""],["matListItemIcon","","name","presentation"],["matListItemTitle",""],["type","button","mat-icon-button","","matListItemMeta","",3,"click"],["name","trash"]],template:function(t,n){t&1&&(B(0,0),C(1,Mo,5,0,"mat-list",1),H()),t&2&&(u("formGroup",n.form),m(),w(n.form.presentations.controls.length?1:-1))},dependencies:[R,F,I,qe,ue,ce,pe,Ye,de,le,me,E,A,D],encapsulation:2,changeDetection:0})}return i})();var bo=(i,o)=>o.value;function yo(i,o){if(i&1){let e=P();s(0,"mat-list-item"),c(1,"devmx-icon",3),s(2,"span",4),d(3),r(),s(4,"button",5),f("click",function(){let n=S(e).$index,a=x(2);return T(a.form.leaders.removeAt(n))}),c(5,"devmx-icon",6),r()()}if(i&2){let e=o.$implicit;m(3),U(e.value.displayName)}}function Eo(i,o){if(i&1&&(s(0,"mat-list",1)(1,"p",2),d(2,"L\xEDderes"),r(),b(3,yo,6,1,"mat-list-item",null,bo),r()),i&2){let e=x();m(3),y(e.form.leaders.controls)}}var kn=(()=>{class i{container=l(O);get form(){return this.container.control}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["devmx-admin-event-leaders"]],features:[N([],[{provide:O,useFactory:()=>l(O,{skipSelf:!0})}])],decls:2,vars:2,consts:[[3,"formGroup"],["formArrayName","leaders"],["mat-subheader",""],["matListItemIcon","","name","user-circle"],["matListItemTitle",""],["type","button","mat-icon-button","","matListItemMeta","",3,"click"],["name","trash"]],template:function(t,n){t&1&&(B(0,0),C(1,Eo,5,0,"mat-list",1),H()),t&2&&(u("formGroup",n.form),m(),w(n.form.leaders.controls.length?1:-1))},dependencies:[R,F,I,qe,ue,ce,pe,Ye,de,le,me,E,A,D],encapsulation:2,changeDetection:0})}return i})();var ko=["panelTemplate"],Po=(i,o)=>o.value;function Oo(i,o){if(i&1){let e=P();s(0,"mat-option",3),f("onSelectionChange",function(){let n=S(e).$implicit,a=x(2);return T(a._selectValue(n.value))}),d(1),r()}if(i&2){let e=o.$implicit;u("value",e.value),m(),U(e.label)}}function Fo(i,o){if(i&1&&(s(0,"div",1),b(1,Oo,2,2,"mat-option",2,Po),r()),i&2){let e=x();u("id",e.panelId)("@panel",void 0),be("aria-label",e.ariaLabel()||null)("aria-labelledby",e._getAriaLabelledby()),m(),y(e._timeOptions)}}var Io=[[["","matTimepickerToggleIcon",""]]],Ro=["[matTimepickerToggleIcon]"];function Ao(i,o){i&1&&(yt(),s(0,"svg",1),c(1,"path",2),r())}var Vo=/^(\d*\.?\d+)\s*(h|hour|hours|m|min|minute|minutes|s|second|seconds)?$/i,Fn=new bt("MAT_TIMEPICKER_CONFIG");function Pn(i){let o;if(i===null)return null;if(typeof i=="number")o=i;else{if(i.trim().length===0)return null;let e=i.match(Vo),t=e?parseFloat(e[1]):null,n=e?.[2]?.toLowerCase()||null;if(!e||t===null||isNaN(t))return null;n==="h"||n==="hour"||n==="hours"?o=t*3600:n==="m"||n==="min"||n==="minute"||n==="minutes"?o=t*60:o=t}return o}function Lo(i,o,e,t,n){let a=[],p=i.compareTime(e,t)<1?e:t;for(;i.sameDate(p,e)&&i.compareTime(p,t)<1&&i.isValid(p);)a.push({value:p,label:i.format(p,o.display.timeOptionLabel)}),p=i.addSeconds(p,n);return a}var ft=(()=>{class i{_overlay=l(gi);_dir=l(Zt,{optional:!0});_viewContainerRef=l(Ot);_injector=l(Et);_defaultConfig=l(Fn,{optional:!0});_dateAdapter=l(we,{optional:!0});_dateFormats=l(pt,{optional:!0});_isOpen=Ie(!1);_activeDescendant=Ie(null);_input;_overlayRef=null;_portal=null;_optionsCacheKey=null;_localeChanges;_onOpenRender=null;_panelTemplate=ie.required("panelTemplate");_timeOptions=[];_options=Ft(oe);_keyManager=new Wt(this._options,this._injector).withHomeAndEnd(!0).withPageUpDown(!0).withVerticalOrientation(!0);interval=v(Pn(this._defaultConfig?.interval||null),{transform:Pn});options=v(null);isOpen=this._isOpen.asReadonly();selected=te();opened=te();closed=te();activeDescendant=this._activeDescendant.asReadonly();panelId=l(Xt).getId("mat-timepicker-panel-");disableRipple=v(this._defaultConfig?.disableRipple??!1,{transform:ye});ariaLabel=v(null,{alias:"aria-label"});ariaLabelledby=v(null,{alias:"aria-labelledby"});constructor(){l(xe).nativeElement.setAttribute("mat-timepicker-panel-id",this.panelId),this._handleLocaleChanges(),this._handleInputStateChanges(),this._keyManager.change.subscribe(()=>this._activeDescendant.set(this._keyManager.activeItem?.id||null))}open(){if(!this._input||(this._input.focus(),this._isOpen()))return;this._isOpen.set(!0),this._generateOptions();let e=this._getOverlayRef();e.updateSize({width:this._input.getOverlayOrigin().nativeElement.offsetWidth}),this._portal??=new di(this._panelTemplate(),this._viewContainerRef),e.attach(this._portal),this._onOpenRender?.destroy(),this._onOpenRender=Tt(()=>{let t=this._options();this._syncSelectedState(this._input.value(),t,t[0]),this._onOpenRender=null},{injector:this._injector}),this.opened.emit()}close(){this._isOpen()&&(this._isOpen.set(!1),this._overlayRef?.detach(),this.closed.emit())}registerInput(e){this._input&&this._input,this._input=e}ngOnDestroy(){this._keyManager.destroy(),this._localeChanges.unsubscribe(),this._onOpenRender?.destroy(),this._overlayRef?.dispose()}_selectValue(e){this.close(),this.selected.emit({value:e,source:this}),this._input.focus()}_getAriaLabelledby(){return this.ariaLabel()?null:this.ariaLabelledby()||this._input?._getLabelId()||null}_getOverlayRef(){if(this._overlayRef)return this._overlayRef;let e=this._overlay.position().flexibleConnectedTo(this._input.getOverlayOrigin()).withFlexibleDimensions(!1).withPush(!1).withTransformOriginOn(".mat-timepicker-panel").withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-timepicker-above"}]);return this._overlayRef=this._overlay.create({positionStrategy:e,scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._dir||"ltr",hasBackdrop:!1}),this._overlayRef.keydownEvents().subscribe(t=>{this._handleKeydown(t)}),this._overlayRef.outsidePointerEvents().subscribe(t=>{let n=Qt(t),a=this._input.getOverlayOrigin().nativeElement;n&&n!==a&&!a.contains(n)&&this.close()}),this._overlayRef}_generateOptions(){let e=this.interval()??1800,t=this.options();if(t!==null)this._timeOptions=t;else{let n=this._dateAdapter,a=this._dateFormats.display.timeInput,p=this._input.min()||n.setTime(n.today(),0,0,0),g=this._input.max()||n.setTime(n.today(),23,59,0),M=e+"/"+n.format(p,a)+"/"+n.format(g,a);M!==this._optionsCacheKey&&(this._optionsCacheKey=M,this._timeOptions=Lo(n,this._dateFormats,p,g,e))}}_syncSelectedState(e,t,n){let a=!1;for(let p of t)e&&this._dateAdapter.sameTime(p.value,e)?(p.select(!1),ut(p,"center"),Ne(()=>this._keyManager.setActiveItem(p)),a=!0):p.deselect(!1);a||(n?(Ne(()=>this._keyManager.setActiveItem(n)),ut(n,"center")):Ne(()=>this._keyManager.setActiveItem(-1)))}_handleKeydown(e){let t=e.keyCode;if(t===9)this.close();else if(t===27&&!ct(e))e.preventDefault(),this.close();else if(t===13)e.preventDefault(),this._keyManager.activeItem?this._selectValue(this._keyManager.activeItem.value):this.close();else{let n=this._keyManager.activeItem;this._keyManager.onKeydown(e);let a=this._keyManager.activeItem;a&&a!==n&&ut(a,"nearest")}}_handleLocaleChanges(){this._localeChanges=this._dateAdapter.localeChanges.subscribe(()=>{this._optionsCacheKey=null,this.isOpen()&&this._generateOptions()})}_handleInputStateChanges(){Se(()=>{let e=this._input?.value(),t=this._options();this._isOpen()&&this._syncSelectedState(e,t,null)})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["mat-timepicker"]],viewQuery:function(t,n){t&1&&(J(n._panelTemplate,ko,5),J(n._options,oe,5)),t&2&&Re(2)},inputs:{interval:[1,"interval"],options:[1,"options"],disableRipple:[1,"disableRipple"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"]},outputs:{selected:"selected",opened:"opened",closed:"closed"},exportAs:["matTimepicker"],features:[N([{provide:ei,useExisting:i}])],decls:2,vars:0,consts:[["panelTemplate",""],["role","listbox",1,"mat-timepicker-panel",3,"id"],[3,"value"],[3,"onSelectionChange","value"]],template:function(t,n){t&1&&C(0,Fo,3,4,"ng-template",null,0,Ht)},dependencies:[oe],styles:["mat-timepicker{display:none}.mat-timepicker-panel{width:100%;max-height:256px;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;border-bottom-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-timepicker-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-timepicker-container-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){.mat-timepicker-panel{outline:solid 1px}}.mat-timepicker-above .mat-timepicker-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small))}.mat-timepicker-input:read-only{cursor:pointer}@media(forced-colors: active){.mat-timepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,data:{animation:[zt("panel",[Kt("void",Te({opacity:0,transform:"scaleY(0.8)"})),mt(":enter",[Yt([He("0.03s linear",Te({opacity:1})),He("0.12s cubic-bezier(0, 0, 0.2, 1)",Te({transform:"scaleY(1)"}))])]),mt(":leave",[He("0.075s linear",Te({opacity:0}))])])]},changeDetection:0})}return i})();function ut(i,o){i._getHostElement().scrollIntoView({block:o,inline:o})}var In=(()=>{class i{_elementRef=l(xe);_document=l(jt);_dateAdapter=l(we,{optional:!0});_dateFormats=l(pt,{optional:!0});_formField=l(ii,{optional:!0});_onChange;_onTouched;_validatorOnChange;_accessorDisabled=Ie(!1);_localeSubscription;_timepickerSubscription;_validator;_lastValueValid=!0;_lastValidDate=null;_ariaActiveDescendant=Ee(()=>{let e=this.timepicker(),t=e.isOpen(),n=e.activeDescendant();return t&&n?n:null});_ariaExpanded=Ee(()=>this.timepicker().isOpen()+"");_ariaControls=Ee(()=>{let e=this.timepicker();return e.isOpen()?e.panelId:null});value=It(null);timepicker=v.required({alias:"matTimepicker"});min=v(null,{alias:"matTimepickerMin",transform:e=>this._transformDateInput(e)});max=v(null,{alias:"matTimepickerMax",transform:e=>this._transformDateInput(e)});disabled=Ee(()=>this.disabledInput()||this._accessorDisabled());disabledInput=v(!1,{transform:ye,alias:"disabled"});constructor(){this._validator=this._getValidator(),this._respondToValueChanges(),this._respondToMinMaxChanges(),this._registerTimepicker(),this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._hasFocus()||this._formatValue(this.value())}),this.getOverlayOrigin().nativeElement.addEventListener("click",this._handleClick)}writeValue(e){this.value.set(this._dateAdapter.getValidDateOrNull(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._accessorDisabled.set(e)}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._validatorOnChange=e}getOverlayOrigin(){return this._formField?.getConnectedOverlayOrigin()||this._elementRef}focus(){this._elementRef.nativeElement.focus()}ngOnDestroy(){this.getOverlayOrigin().nativeElement.removeEventListener("click",this._handleClick),this._timepickerSubscription?.unsubscribe(),this._localeSubscription.unsubscribe()}_getLabelId(){return this._formField?.getLabelId()||null}_handleClick=()=>{this.timepicker().open()};_handleInput(e){let t=this.value(),n=this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput),a=!this._dateAdapter.sameTime(n,t);!n||a||e&&!t?this._assignUserSelection(n,!0):this._validatorOnChange?.()}_handleBlur(){let e=this.value();e&&this._isValid(e)&&this._formatValue(e),this._onTouched?.()}_handleKeydown(e){this.timepicker().isOpen()||(e.keyCode===27&&!ct(e)&&this.value()!==null?(e.preventDefault(),this.value.set(null),this._formatValue(null)):(e.keyCode===40||e.keyCode===38)&&!this.disabled()&&(e.preventDefault(),this.timepicker().open()))}_respondToValueChanges(){Se(()=>{let e=this._dateAdapter.deserialize(this.value()),t=this._lastValueValid;this._lastValueValid=this._isValid(e),this._hasFocus()||this._formatValue(e),e&&this._lastValueValid&&(this._lastValidDate=e),t!==this._lastValueValid&&this._validatorOnChange?.()})}_registerTimepicker(){Se(()=>{let e=this.timepicker();e.registerInput(this),e.closed.subscribe(()=>this._onTouched?.()),e.selected.subscribe(({value:t})=>{this._dateAdapter.sameTime(t,this.value())||(this._assignUserSelection(t,!0),this._formatValue(t))})})}_respondToMinMaxChanges(){Se(()=>{this.min(),this.max(),this._validatorOnChange?.()})}_assignUserSelection(e,t){if(e==null||!this._isValid(e))this.value.set(e);else{let n=this._dateAdapter,a=n.getValidDateOrNull(this._lastValidDate||this.value()),p=n.getHours(e),g=n.getMinutes(e),M=n.getSeconds(e);this.value.set(a?n.setTime(a,p,g,M):e)}t&&this._onChange?.(this.value())}_formatValue(e){e=this._dateAdapter.getValidDateOrNull(e),this._elementRef.nativeElement.value=e==null?"":this._dateAdapter.format(e,this._dateFormats.display.timeInput)}_isValid(e){return!e||this._dateAdapter.isValid(e)}_transformDateInput(e){let t=typeof e=="string"?this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput):this._dateAdapter.deserialize(e);return t&&this._dateAdapter.isValid(t)?t:null}_hasFocus(){return this._document.activeElement===this._elementRef.nativeElement}_getValidator(){return k.compose([()=>this._lastValueValid?null:{matTimepickerParse:{text:this._elementRef.nativeElement.value}},e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),n=this.min();return!n||!t||this._dateAdapter.compareTime(n,t)<=0?null:{matTimepickerMin:{min:n,actual:t}}},e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),n=this.max();return!n||!t||this._dateAdapter.compareTime(n,t)>=0?null:{matTimepickerMax:{max:n,actual:t}}}])}static \u0275fac=function(t){return new(t||i)};static \u0275dir=Pt({type:i,selectors:[["input","matTimepicker",""]],hostAttrs:["role","combobox","type","text","aria-haspopup","listbox",1,"mat-timepicker-input"],hostVars:5,hostBindings:function(t,n){if(t&1&&f("blur",function(){return n._handleBlur()})("input",function(p){return n._handleInput(p.target.value)})("keydown",function(p){return n._handleKeydown(p)}),t&2){let a;Lt("disabled",n.disabled()),be("aria-activedescendant",n._ariaActiveDescendant())("aria-expanded",n._ariaExpanded())("aria-controls",n._ariaControls())("mat-timepicker-id",(a=n.timepicker())==null?null:a.panelId)}},inputs:{value:[1,"value"],timepicker:[1,"matTimepicker","timepicker"],min:[1,"matTimepickerMin","min"],max:[1,"matTimepickerMax","max"],disabledInput:[1,"disabled","disabledInput"]},outputs:{value:"valueChange"},exportAs:["matTimepickerInput"],features:[N([{provide:ai,useExisting:i,multi:!0},{provide:ri,useExisting:i,multi:!0},{provide:ki,useExisting:i}])]})}return i})(),ht=(()=>{class i{_defaultConfig=l(Fn,{optional:!0});_defaultTabIndex=(()=>{let e=l(new St("tabindex"),{optional:!0}),t=Number(e);return isNaN(t)?null:t})();timepicker=v.required({alias:"for"});ariaLabel=v(void 0,{alias:"aria-label"});disabled=v(!1,{transform:ye,alias:"disabled"});tabIndex=v(this._defaultTabIndex);disableRipple=v(this._defaultConfig?.disableRipple??!1,{transform:ye});_open(e){this.timepicker()&&!this.disabled()&&(this.timepicker().open(),e.stopPropagation())}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["mat-timepicker-toggle"]],hostAttrs:[1,"mat-timepicker-toggle"],hostVars:1,hostBindings:function(t,n){t&1&&f("click",function(p){return n._open(p)}),t&2&&be("tabindex",null)},inputs:{timepicker:[1,"for","timepicker"],ariaLabel:[1,"aria-label","ariaLabel"],disabled:[1,"disabled"],tabIndex:[1,"tabIndex"],disableRipple:[1,"disableRipple"]},exportAs:["matTimepickerToggle"],ngContentSelectors:Ro,decls:3,vars:5,consts:[["mat-icon-button","","type","button","aria-haspopup","listbox",3,"disabled","disableRipple"],["height","24px","width","24px","viewBox","0 -960 960 960","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-timepicker-toggle-default-icon"],["d","m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z"]],template:function(t,n){t&1&&(Nt(Io),s(0,"button",0),$t(1,0,null,Ao,2,0),r()),t&2&&(u("disabled",n.disabled())("disableRipple",n.disableRipple()),be("aria-label",n.ariaLabel())("aria-expanded",n.timepicker().isOpen())("tabindex",n.disabled()?-1:n.tabIndex()))},dependencies:[A],encapsulation:2,changeDetection:0})}return i})(),Rn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=kt({type:i});static \u0275inj=Mt({imports:[ft,ht,ui]})}return i})();var it=class extends G{constructor(){super({date:new h,time:new h})}};var An=(()=>{class i extends z{elRef;ngControl;get control(){return this.ngControl.control}_adapter=l(we);form=new it;constructor(e,t,n){super(e,t,!0),this.elRef=t,this.ngControl=n,this.ngControl.valueAccessor=this,this._adapter.setLocale("pt-BR")}ngAfterViewInit(){this.form.setValue({date:this.control.value,time:this.control.value},{emitEvent:!1});let{date:e,time:t}=this.form.controls;e.valueChanges.subscribe(n=>{let{value:a}=this.control;a.setDate(n.getDate()),a.setMonth(n.getMonth()),a.setFullYear(n.getFullYear()),this.control.setValue(a)}),t.valueChanges.subscribe(n=>{let{value:a}=this.control;a.setHours(n.getHours()),a.setMinutes(n.getMinutes()),a.setSeconds(n.getSeconds()),this.control.setValue(a)})}static \u0275fac=function(t){return new(t||i)(Fe(Dt),Fe(xe),Fe(si,10))};static \u0275cmp=_({type:i,selectors:[["devmx-date-time-picker"]],features:[N([Jt()]),Rt],decls:15,vars:5,consts:[["datepicker",""],["timepicker",""],[1,"date-time-picker",3,"formGroup"],[1,"date-picker"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],[1,"time-picker"],["matInput","","formControlName","time",3,"matTimepicker"]],template:function(t,n){if(t&1&&(s(0,"section",2)(1,"mat-form-field",3)(2,"mat-label"),d(3,"Dia"),r(),c(4,"input",4)(5,"mat-datepicker",null,0)(7,"mat-datepicker-toggle",5),r(),s(8,"mat-form-field",6)(9,"mat-label"),d(10,"Hor\xE1rio"),r(),c(11,"input",7)(12,"mat-timepicker",null,1)(14,"mat-timepicker-toggle",5),r()()),t&2){let a=st(6),p=st(13);u("formGroup",n.form),m(4),u("matDatepicker",a),m(3),u("for",a),m(4),u("matTimepicker",p),m(3),u("for",p)}},dependencies:[R,z,Y,F,I,K,Zi,Qi,Wi,Xi,Rn,ft,In,ht,se,re,ae,Ge,_e,he],styles:["[_nghost-%COMP%]{display:inline-flex}[_nghost-%COMP%]   .date-time-picker[_ngcontent-%COMP%]{display:inline-flex;flex-flow:row wrap;gap:1em}[_nghost-%COMP%]   .date-time-picker[_ngcontent-%COMP%]   .date-picker[_ngcontent-%COMP%]{width:10em}[_nghost-%COMP%]   .date-time-picker[_ngcontent-%COMP%]   .time-picker[_ngcontent-%COMP%]{width:8em}"],changeDetection:0})}return i})();var Vn=(i,o)=>o.value;function $o(i,o){if(i&1&&(s(0,"mat-option",5),d(1),r()),i&2){let e=o.$implicit;u("value",e.value),m(),L(" ",e.viewValue," ")}}function Bo(i,o){if(i&1&&(s(0,"mat-option",5),d(1),r()),i&2){let e=o.$implicit;u("value",e.value),m(),L(" ",e.viewValue," ")}}var Ln=(()=>{class i{container=l(O);get form(){return this.container.control}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["devmx-admin-event-form"]],features:[N([],[{provide:O,useFactory:()=>l(O,{skipSelf:!0})}])],decls:42,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","title","placeholder","Ex.: 10\xBA Meetup Maring\xE1 Agile"],["formControlName","date"],[1,"event-duration"],["formControlName","duration"],[3,"value"],[1,"event-max"],["matInput","","type","number","min","0","formControlName","maxAttendees"],["matTextSuffix",""],[1,"event-format"],["formControlName","format",3,"selectionChange"],[1,"event-address"],["matInput","","formControlName","address"],[1,"event-link"],["matInput","","type","url","formControlName","link"]],template:function(t,n){t&1&&(B(0,0),s(1,"mat-form-field")(2,"mat-label"),d(3,"Qual nome ou t\xEDtulo do evento?"),r(),c(4,"input",1),s(5,"mat-error"),d(6,"Obrigat\xF3rio"),r()(),s(7,"div"),c(8,"devmx-date-time-picker",2),s(9,"mat-form-field",3)(10,"mat-label"),d(11,"Dura\xE7\xE3o"),r(),s(12,"mat-select",4),b(13,$o,2,2,"mat-option",5,Vn),r(),s(15,"mat-error"),d(16,"Obrigat\xF3rio"),r()(),s(17,"mat-form-field",6)(18,"mat-label"),d(19,"M\xE1ximo de"),r(),c(20,"input",7),s(21,"span",8),d(22,"pessoas"),r()()(),s(23,"div")(24,"mat-form-field",9)(25,"mat-label"),d(26,"Formato"),r(),s(27,"mat-select",10),f("selectionChange",function(){return n.form.onFormatChange(n.form.format.value)}),b(28,Bo,2,2,"mat-option",5,Vn),r(),s(30,"mat-error"),d(31,"Obrigat\xF3rio"),r()(),s(32,"mat-form-field",11)(33,"mat-label"),d(34,"Endere\xE7o"),r(),c(35,"input",12),r(),s(36,"mat-form-field",13)(37,"mat-label"),d(38,"Link"),r(),c(39,"input",14),s(40,"mat-error"),d(41,"Obrigat\xF3rio"),r()()(),H()),t&2&&(u("formGroup",n.form),m(13),y(n.form.durations),m(15),y(n.form.formats))},dependencies:[R,z,li,Y,F,mi,I,K,se,re,ae,ti,Ge,_e,he,xi,Ci,oe,An],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:2em}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{gap:2em;display:flex;flex-flow:row wrap}[_nghost-%COMP%]   div[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .event-duration[_ngcontent-%COMP%]{max-width:8em}[_nghost-%COMP%]   .event-max[_ngcontent-%COMP%]{max-width:10em}[_nghost-%COMP%]   .event-format[_ngcontent-%COMP%]{max-width:9em}[_nghost-%COMP%]   .event-address[_ngcontent-%COMP%]{flex:2}[_nghost-%COMP%]   .event-link[_ngcontent-%COMP%]{width:18em}"],changeDetection:0})}return i})();var _t=class extends G{constructor(o){super({id:new h("",{nonNullable:!0,validators:[k.required]}),title:new h("",{nonNullable:!0,validators:[k.required]}),description:new h("",{nonNullable:!0}),cover:new h("",{nonNullable:!0})}),o&&this.patchValue(o)}},nt=class extends ze{constructor(){super([])}add(o){this.push(new _t(o))}};var gt=class extends G{get name(){return this.controls.name.value}constructor(o){super({id:new h("",{nonNullable:!0,validators:[k.required]}),name:new h("",{nonNullable:!0,validators:[k.required]}),displayName:new h("",{nonNullable:!0,validators:[k.required]})}),o&&this.patchValue(o)}},ot=class extends ze{constructor(){super([])}add(o){this.push(new gt(o))}};function Nn(i,o,e){let t=hi(i,e?.in);return isNaN(o)?fi(e?.in||i,NaN):(o&&t.setDate(t.getDate()+o),t)}var at=class i extends G{formats=[{value:"in-person",viewValue:"Presencial"},{value:"mixed",viewValue:"H\xEDbrido"},{value:"online",viewValue:"Online"}];durations=ni.map(o=>({value:o,viewValue:o}));static date=Nn(new Date,10);constructor(){super({id:new h("",{nonNullable:!0}),title:new h("",{nonNullable:!0,validators:[k.required]}),date:new h(i.date,{nonNullable:!0,validators:[k.required],updateOn:"blur"}),time:new h("",{nonNullable:!0,validators:[k.required]}),duration:new h("2h",{nonNullable:!0}),maxAttendees:new h(0,{nonNullable:!0}),description:new h("",{nonNullable:!0}),presentations:new nt,leaders:new ot,format:new h("",{nonNullable:!0}),address:new h("",{nonNullable:!0}),link:new h("",{nonNullable:!0}),visible:new h(!0,{nonNullable:!0})}),this.controls.link?.disable()}get format(){return this.controls.format}get presentations(){return this.controls.presentations}get leaders(){return this.controls.leaders}patch(o){if(this.patchValue(o),o.presentations){this.presentations.clear();for(let e of o.presentations)this.presentations.add(e)}if(o.leaders){this.leaders.clear();for(let e of o.leaders)this.leaders.add(e)}}onFormatChange(o=""){o==="in-person"&&(this.controls.address?.enable(),this.controls.link?.disable()),o==="online"&&(this.controls.address?.disable(),this.controls.link?.enable()),o==="mixed"&&(this.controls.link?.enable(),this.controls.address?.enable())}};var vt=(()=>{class i{route=l(ne);cdr=l(Gt);eventFacade=l(Q);messageService=l(vi);searchLeaders=l(De);selectPresentation=l(Ui);selectUser=l(De);form=new at;constructor(){this.route.data.pipe(fe()).subscribe(({event:e})=>{if(e&&e.id&&(this.form.patch(e),this.form.onFormatChange(e.format),e.date&&this.form.controls.date)){let t=new Date(e.date);this.form.patchValue({date:t})}})}selectPresentations(){this.selectPresentation.open({multiple:!0}).pipe(V(1)).subscribe(t=>{if(t){for(let n of t)this.form.presentations.add(n);this.cdr.detectChanges()}})}selectLeaders(){this.selectUser.open({multiple:!0,onlyRole:"leader"}).pipe(V(1)).subscribe(t=>{if(t){for(let n of t)this.form.leaders.add(n);this.cdr.detectChanges()}})}onSubmit(){if(this.form.valid){let e=this.form.getRawValue();return e.id?this.eventFacade.update(e):this.eventFacade.create(e),this.messageService.open({message:"Armazenando informa\xE7\xF5es"})}return this.form.markAllAsTouched()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["devmx-event-admin-event"]],decls:20,vars:1,consts:[["id","event",3,"submit","formGroup"],["mat-stretch-tabs","","dynamicHeight","",1,"event-tab"],["label","Evento"],[1,"event-tab-content"],["label","Detalhes"],["label","Descreva o evento","hint","Compat\xEDvel com markdown do Github","formControlName","description"],["label","Organizadores"],["type","button","mat-button","",3,"click"],["label","Apresenta\xE7\xF5es"],[1,"event-footer"],["mat-flat-button",""]],template:function(t,n){t&1&&(s(0,"form",0),f("submit",function(){return n.onSubmit()}),s(1,"mat-tab-group",1)(2,"mat-tab",2)(3,"section",3),c(4,"devmx-admin-event-form"),r()(),s(5,"mat-tab",4),c(6,"devmx-editor",5),r(),s(7,"mat-tab",6)(8,"section",3),c(9,"devmx-admin-event-leaders"),s(10,"button",7),f("click",function(){return n.selectLeaders()}),d(11," Adicionar outras pessoas "),r()()(),s(12,"mat-tab",8)(13,"section",3),c(14,"devmx-admin-event-presentations"),s(15,"button",7),f("click",function(){return n.selectPresentations()}),d(16," Procure por conte\xFAdos "),r()()()(),s(17,"footer",9)(18,"button",10),d(19,"Salvar"),r()()()),t&2&&u("formGroup",n.form)},dependencies:[R,Ue,Y,F,I,K,Dn,kn,Ln,E,Ke,Fi,Pi,Oi,Xe,Ii],styles:["[_nghost-%COMP%]{padding:1em;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{gap:1em;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .event-tab[_ngcontent-%COMP%]{border-radius:.8em;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .event-tab-content[_ngcontent-%COMP%]{padding:2em 1em}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .event-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],changeDetection:0})}return i})();var rm=[{path:"",data:{breadcrumb:"Administra\xE7\xE3o"},providers:En,component:un,children:[{path:"meus-eventos/novo",data:{breadcrumb:"Novo"},component:vt},{path:"meus-eventos/:id",data:{breadcrumb:i=>i.event.title},resolve:{event:Sn},component:vt},{path:"meus-eventos",data:{breadcrumb:"Meus eventos"},component:wn},{path:"gerenciar-eventos",data:{breadcrumb:"Gerenciar eventos"},canActivate:[Yi("director","manager","staff")],component:Tn},{path:"",pathMatch:"prefix",redirectTo:"meus-eventos"}]}];export{un as EventFeatureAdminComponent,rm as eventFeatureAdminRoutes};

import{a as St,b as Et,c as Ot,d as wt}from"./chunk-PUGSWSWS.js";import{b as V}from"./chunk-UOTKRQ63.js";import"./chunk-BJXILAOS.js";import{a as Pt}from"./chunk-BVATXDF4.js";import{a as Tt}from"./chunk-AC7KYN3P.js";import"./chunk-3SNV2MVI.js";import"./chunk-2IAXMR6M.js";import{c as B,d as Ct,f as _t,h as xt}from"./chunk-2AZ7YNWU.js";import{a as yt}from"./chunk-3622IAQP.js";import{a as Mt}from"./chunk-U2VOJE2Q.js";import{d as ht}from"./chunk-S6X337YX.js";import{a as z}from"./chunk-A3N3AUUJ.js";import"./chunk-2P22RRAG.js";import{o as b,s as vt,u as h}from"./chunk-VPARQAQJ.js";import{c as It,g as Dt,h as kt,j as Bt}from"./chunk-LSZ3UK4M.js";import"./chunk-27JLR3AO.js";import"./chunk-2K6IALUF.js";import{g as L,h as nt,p as $}from"./chunk-KXTQ2UTD.js";import"./chunk-I7VYXJU2.js";import{a as st,b as lt,c as dt,e as ct,f as ft,g as ut,l as gt}from"./chunk-PAP2P7QR.js";import{i as bt}from"./chunk-EC6LD5KM.js";import{a as f,h as it,i as ot,m as at,p as rt,s as mt,x as pt}from"./chunk-EDIJ2EBQ.js";import{f as w,g as T}from"./chunk-W5KNOAKV.js";import{$b as U,F as S,Fb as M,Ha as K,Hc as X,Ia as g,Jc as v,Kc as A,Lc as P,Nb as C,Tb as p,Yb as E,Yd as Z,_b as N,ac as W,ba as H,bc as o,cc as a,dc as m,gb as x,hc as Q,je as tt,ka as l,kc as F,lb as r,mc as _,pe as et,t as k,ta as Y,u as q,ua as J,ub as c,xc as s,yc as O,zc as R}from"./chunk-TEKHUYWQ.js";var Ft=(()=>{class e{route=l(L);script=l(Pt);constructor(){this.route.data.pipe(S(({schema:t})=>!!t),k(({schema:t})=>t),z()).subscribe(t=>{let n="application/ld+json",i=JSON.stringify(t,null,2);this.script.addScript({type:n},i)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=c({type:e,selectors:[["devmx-event-feature-page"]],decls:2,vars:0,template:function(n,i){n&1&&(o(0,"devmx-app-shell"),m(1,"router-outlet"),a())},dependencies:[$,nt,V,Mt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"],changeDetection:0})}return e})();var Rt=[];var At=e=>xt(l(B),e.params);var Lt=e=>{let d=e.parent?e.parent.params:e.params;return _t(l(B),d)};var $t=(()=>{class e{data=g.required();platform=l(w);link=M("");ngAfterViewInit(){let{id:t,title:n,start:i,address:u}=this.data(),y=`https://devparana.mx/#/evento/${t}`,D=`\u{1F389} *${n}* \u{1F389}`,j=`\u{1F5D3}\uFE0F ${i.toLocaleDateString()}`,Wt=`\u23F0 ${i.toLocaleTimeString().slice(0,5)}`,Gt=`\u{1F5FA}\uFE0F ${u}`,qt=[y,D,j,Wt,Gt].join(`

`),Ht=this.platform.IOS?"https://api.whatsapp.com/send":"whatsapp://send",Yt="https://devparana.mx/devmx.svg",Jt=new URLSearchParams({text:qt,media:Yt});this.link.set(`${Ht}?${Jt}`)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=c({type:e,selectors:[["devmx-whats-app-button"]],inputs:{data:[1,"data"]},decls:4,vars:1,consts:[["mat-raised-button","","target","_blank","rel","noopener,noreferrer",3,"href"],["matPreffix","","name","social/whatsapp","size","24"]],template:function(n,i){n&1&&(o(0,"a",0),m(1,"devmx-icon",1),o(2,"span"),s(3,"Enviar no WhatsApp"),a()()),n&2&&p("href",i.link(),x)},dependencies:[h,b,T,f],styles:["[_nghost-%COMP%]{min-width:202px;display:inline-flex}[_nghost-%COMP%]   a[href][_ngcontent-%COMP%]{width:100%;padding-left:.8em;padding-right:.8em;border-radius:8px}[_nghost-%COMP%]     .mat-mdc-raised-button .mdc-button__label{display:inline-flex;align-items:center;gap:.6em}"],changeDetection:0})}return e})();var Vt=(()=>{class e{data=g.required();link=M("");ngAfterViewInit(){let t="https://calendar.google.com/calendar/render",n=this.#e(this.data()),i=new URLSearchParams(n);this.link.set(`${t}?${i}`)}#e(t){let n="TEMPLATE",{title:i,address:u,description:y}=t,D=this.#t(t.start),j=this.#t(t.end);return{action:n,text:i,location:u,details:y,dates:`${D}/${j}`}}#t(t){return t.toISOString().replace(/-|:|\.\d{3}/g,"")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=c({type:e,selectors:[["devmx-calendar-button"]],inputs:{data:[1,"data"]},decls:4,vars:1,consts:[["mat-raised-button","","target","_blank","rel","noopener,noreferrer",3,"href"],["matPreffix","","name","calendar","size","22"]],template:function(n,i){n&1&&(o(0,"a",0),m(1,"devmx-icon",1),o(2,"span"),s(3,"Adicionar ao calend\xE1rio"),a()()),n&2&&p("href",i.link(),x)},dependencies:[h,b,f],styles:["[_nghost-%COMP%]{min-width:202px;display:inline-flex}[_nghost-%COMP%]   a[href][_ngcontent-%COMP%]{width:100%;padding-left:.8em;padding-right:.8em;border-radius:8px}[_nghost-%COMP%]     .mat-mdc-raised-button .mdc-button__label{display:inline-flex;align-items:center;gap:.6em}"],changeDetection:0})}return e})();var zt=(()=>{class e{data=g.required();platform=l(w);link=M("");ngAfterViewInit(){let{link:t}=this.data();t&&((this.platform.ANDROID||this.platform.IOS)&&(t.indexOf("http")>=0&&t.replace("http://","youtube://"),t.indexOf("https")>=0&&t.replace("https://","youtube://")),this.link.set(t))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=c({type:e,selectors:[["devmx-youtube-button"]],inputs:{data:[1,"data"]},decls:4,vars:1,consts:[["mat-raised-button","","target","_blank","rel","noopener,noreferrer",3,"href"],["matPreffix","","name","social/youtube","size","22"]],template:function(n,i){n&1&&(o(0,"a",0),m(1,"devmx-icon",1),o(2,"span"),s(3,"Abrir com YouTube"),a()()),n&2&&p("href",i.link(),x)},dependencies:[h,b,T,f],styles:["[_nghost-%COMP%]{min-width:202px;display:inline-flex}[_nghost-%COMP%]   a[href][_ngcontent-%COMP%]{width:100%;padding-left:.8em;padding-right:.8em;border-radius:8px}[_nghost-%COMP%]     .mat-mdc-raised-button .mdc-button__label{display:inline-flex;align-items:center;gap:.6em}"],changeDetection:0})}return e})();var Kt=e=>({active:e}),jt=(()=>{class e{loved=g(!1);loveChange=K();disabled=g(!1);isDisabled(){return this.disabled()===""?!0:this.disabled()}onClick(){this.loveChange.emit(!this.loved())}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=c({type:e,selectors:[["devmx-heart-button"]],inputs:{loved:[1,"loved"],disabled:[1,"disabled"]},outputs:{loveChange:"loveChange"},decls:2,vars:4,consts:[["mat-icon-button","",3,"click","disabled","ngClass"],["name","heart"]],template:function(n,i){n&1&&(o(0,"button",0),F("click",function(){return i.onClick()}),m(1,"devmx-icon",1),a()),n&2&&p("disabled",i.disabled())("ngClass",X(2,Kt,i.loved()))},dependencies:[vt,f,Z],encapsulation:2})}return e})();var Nt=(()=>{class e{data=g.required();platform=l(w);link=M("");ngAfterViewInit(){let{address:t}=this.data(),n={travelmode:"driving"},i;this.platform.IOS?(i="comgooglemaps://",n.daddr=t):(i="//google.com/maps/dir/",n.destination=t,n.api="1");let u=new URLSearchParams(n);this.link.set(`${i}?${u}`)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=c({type:e,selectors:[["devmx-maps-button"]],inputs:{data:[1,"data"]},decls:4,vars:1,consts:[["mat-raised-button","","target","_blank","rel","noopener,noreferrer",3,"href"],["matPreffix","","name","transport/map-pin","size","22"]],template:function(n,i){n&1&&(o(0,"a",0),m(1,"devmx-icon",1),o(2,"span"),s(3,"Abrir com Google Maps"),a()()),n&2&&p("href",i.link(),x)},dependencies:[h,b,T,f],styles:["[_nghost-%COMP%]{min-width:202px;display:inline-flex}[_nghost-%COMP%]   a[href][_ngcontent-%COMP%]{width:100%;padding-left:.8em;padding-right:.8em;border-radius:8px}[_nghost-%COMP%]     .mat-mdc-raised-button .mdc-button__label{display:inline-flex;align-items:center;gap:.6em}"],changeDetection:0})}return e})();function Qt(e,d){if(e&1&&m(0,"devmx-maps-button",1),e&2){let t=_();p("data",t)}}function Xt(e,d){if(e&1&&m(0,"devmx-youtube-button",1),e&2){let t=_();p("data",t)}}function Zt(e,d){if(e&1&&(o(0,"article"),m(1,"devmx-markdown-view",10),a()),e&2){let t=_();r(),p("content",t.description)}}function te(e,d){if(e&1&&(o(0,"mat-list-item"),m(1,"devmx-icon",11),o(2,"div",12),s(3),a(),o(4,"div",13),s(5),a(),m(6,"devmx-heart-button",14),a()),e&2){let t=d.$implicit;r(3),O(t.title),r(2),O(t.owner.displayName),r(),p("loved",!1)}}function ee(e,d){if(e&1&&(o(0,"mat-list"),U(1,te,7,3,"mat-list-item",null,N),a()),e&2){let t=_(2);r(),W(t.presentations)}}function ne(e,d){e&1&&(o(0,"mat-tab",8),C(1,ee,3,0,"ng-template",7),a())}function ie(e,d){if(e&1&&(o(0,"mat-list-item"),m(1,"devmx-icon",15),o(2,"div",12),s(3),a()()),e&2){let t=d.$implicit;r(3),O(t.displayName)}}function oe(e,d){if(e&1&&U(0,ie,4,1,"mat-list-item",null,N),e&2){let t=_(2);W(t.leaders)}}function ae(e,d){if(e&1&&(o(0,"mat-list")(1,"mat-list-item"),m(2,"devmx-icon",15),o(3,"div",12),s(4),a()(),C(5,oe,2,0),a()),e&2){let t=_();r(4),O(t.owner.displayName),r(),E(t.leaders.length?5:-1)}}function re(e,d){if(e&1){let t=Q();o(0,"header")(1,"hgroup")(2,"h1"),s(3),a(),o(4,"h3")(5,"span")(6,"time",0),v(7,"date"),s(8),v(9,"date"),a()(),o(10,"span"),s(11," das "),a(),o(12,"time",0),v(13,"date"),s(14),v(15,"date"),a(),o(16,"span"),s(17," at\xE9 "),a(),o(18,"time",0),v(19,"date"),s(20),v(21,"date"),a()()(),o(22,"nav"),m(23,"devmx-calendar-button",1),C(24,Qt,1,1,"devmx-maps-button",1),v(25,"showEventAddress"),C(26,Xt,1,1,"devmx-youtube-button",1),v(27,"showEventLink"),m(28,"devmx-whats-app-button",1),a()(),o(29,"section",2)(30,"form",3)(31,"devmx-rsvp-button",4),F("statusChange",function(){Y(t);let i=_();return J(i.onStatusChange())}),a()(),o(32,"mat-tab-group",5)(33,"mat-tab",6),C(34,Zt,2,1,"ng-template",7),a(),C(35,ne,2,0,"mat-tab",8),o(36,"mat-tab",9),C(37,ae,6,2,"ng-template",7),a()()()}if(e&2){let t=d,n=_();r(3),O(t.title),r(3),p("dateTime",P(7,13,t.date,"longDate")),r(2),R(" ",P(9,16,t.date,"longDate")," "),r(4),p("dateTime",P(13,19,t.start,"shortTime")),r(2),R(" ",P(15,22,t.start,"shortTime"),"h "),r(4),p("dateTime",P(19,25,t.end,"shortTime")),r(2),R(" ",P(21,28,t.end,"shortTime"),"h "),r(3),p("data",t),r(),E(A(25,31,t.format)&&t.address?24:-1),r(2),E(A(27,33,t.format)&&t.link?26:-1),r(2),p("data",t),r(2),p("formGroup",n.form),r(5),E(t.presentations.length?35:-1)}}var Ut=(()=>{class e{authFacade=l(yt);rsvpFacade=l(Ct);route=l(L);event$=this.route.data.pipe(S(({page:t})=>!!t),k(({page:t})=>t),H(t=>this.setRSVPEvent(t.id)));form=new Bt;constructor(){if(localStorage.getItem("accessToken")){this.authFacade.load();let t=this.authFacade.auth$.pipe(S(i=>!!i),k(i=>i.id)),n=this.rsvpFacade.response$.pipe(S(i=>i.length>0));q([t,n]).pipe(z()).subscribe(([i,u])=>{let y=u.find(D=>D.user.id===i);y&&this.setRSVPStatus(y)})}}setRSVPEvent=t=>{this.form.patchValue({event:t}),this.rsvpFacade.loadConfirmed(t)};setRSVPStatus({status:t}){this.form.patchValue({status:t},{emitEvent:!1})}onStatusChange(){this.form.valid&&this.rsvpFacade.create(this.form.getRawValue())}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=c({type:e,selectors:[["devmx-event-page"]],decls:2,vars:3,consts:[[3,"dateTime"],[3,"data"],[1,"event-page-content"],[1,"rsvp-button",3,"formGroup"],["formControlName","status",1,"rsvp-button",3,"statusChange"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Descri\xE7\xE3o"],["matTabContent",""],["label","Agenda"],["label","Organizadores"],[3,"content"],["matListItemIcon","","name","presentation"],["matListItemTitle",""],["matListItemLine",""],["matListItemMeta","","disabled","",3,"loved"],["matListItemIcon","","name","user-circle"]],template:function(n,i){if(n&1&&(C(0,re,38,35),v(1,"async")),n&2){let u;E((u=A(1,1,i.event$))?0:-1,u)}},dependencies:[$,Tt,pt,at,it,ot,rt,mt,Vt,zt,$t,Nt,jt,Dt,It,kt,ht,V,wt,St,Et,Ot,h,bt,gt,ft,ut,ct,lt,st,dt,f,tt,et],styles:["[_nghost-%COMP%]{flex:1;gap:2em;display:flex;flex-direction:column}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8em}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start;padding:2em;gap:8px;background:linear-gradient(180deg,#fff0 -12.12%,#4e4e4e40 23.23%,#0003);background-blend-mode:multiply}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{gap:1em;width:100%;display:flex;flex-flow:row wrap;justify-content:flex-start}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}@media (max-width: 767px){[_nghost-%COMP%]   form[_ngcontent-%COMP%]{justify-content:center}}[_nghost-%COMP%]   .event-page-content[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .event-page-content[_ngcontent-%COMP%]   .rsvp-button[_ngcontent-%COMP%]{position:absolute;z-index:100;right:.4em;top:-.4em}@media (max-width: 767px){[_nghost-%COMP%]   .event-page-content[_ngcontent-%COMP%]   .rsvp-button[_ngcontent-%COMP%]{position:relative;margin-bottom:1em;right:0;top:0}}[_nghost-%COMP%]   article[_ngcontent-%COMP%]{padding:1em}@media (max-width: 600px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:100%;flex-direction:column}}"],changeDetection:0})}return e})();var Nn=[{path:":id",providers:Rt,component:Ft,data:{breadcrumb:"Evento"},resolve:{schema:At},children:[{path:"",data:{breadcrumb:e=>e.page.title},title:"Sobre o evento",resolve:{page:Lt},component:Ut}]}];export{Ft as EventFeaturePageComponent,Nn as eventFeaturePageRoutes};

import{l as h,t as c}from"./chunk-7BKB7KKA.js";import{a as d}from"./chunk-76QZXEBP.js";import{a,b as l}from"./chunk-5L47ZUSK.js";var o=class{route;label;icon;badge;roles;#t=!1;get showLock(){return this.#t}#e="lock";get lock(){return this.#e}#s=!1;get disabled(){return this.#s}kind="link";constructor(t){this.route=t.route,this.label=t.label,this.icon=t.icon,this.badge=t.badge,this.roles=t.roles??[],this.roles.length>1&&(this.#t=!0)}validate(t){let e=this.roles.some(s=>t[s]);return this.#i(e),e}#i(t){this.#t=!0,t?this.#e="opened-lock":(this.#s=!0,this.route=[])}};var r=class{label;links;expanded;icon;constructor(t,e,s,i){this.label=t,this.links=e,this.expanded=s,this.icon=i}};var m=(n,t)=>n.map(e=>{let s=e.links.map(i=>new o(i)).map(i=>(i.roles.length&&i.validate(t),i));return l(a({},e),{links:s})}).filter(e=>e.links.some(s=>!s.disabled)).map(({label:e,links:s,expanded:i,icon:v})=>new r(e,s,i,v));var u=class extends c{sections;loader$=this.select(t=>t.loader);mobile$=this.select(t=>t.mobile);sidenav$=this.select(t=>t.sidenav);sidenavStart$=this.select(t=>t.sidenav.start);sidenavEnd$=this.select(t=>t.sidenav.end);component$=this.select(t=>t.component);sections$=this.select(t=>t.sections);#t;#e;constructor(t,e=[]){super({loader:!1,mobile:!1,component:null,sections:[],sidenav:{start:!0,end:!1}}),this.sections=e,this.#t=t.matchMedia("(max-width: 600px)"),this.#e=s=>{s.matches&&this.setSidenav({start:!1}),this.setMobile(s.matches)},this.setMobile(this.#t.matches),h(()=>{this.#t.matches&&this.setSidenav({start:!1})},500),this.#t.addEventListener("change",this.#e)}loadNavLinks(t){this.setState({sections:m(this.sections,t)})}resetNavLinks(){this.setState({sections:[]})}setLoader(t){this.setState({loader:t})}setMobile(t){this.setState({mobile:t})}setComponent(t){let e=new d(t);this.setState({component:e})}resetComponent(){this.setState({component:null})}setSidenav(t){let{sidenav:e}=this.state;this.setState({sidenav:a(a({},e),t)})}destroyListener(){this.#t.removeEventListener("change",this.#e)}};var p=class{auth;constructor(t){this.auth=t}};export{p as a,u as b};

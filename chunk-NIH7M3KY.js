import{a as ge,d as he,e as xe}from"./chunk-YZSZC4S2.js";import{a as re}from"./chunk-GOVZFZAX.js";import{a as k,b as G,c as H}from"./chunk-KDHON4IT.js";import{a as se}from"./chunk-P6RHV6F4.js";import"./chunk-3B6HSN33.js";import"./chunk-GUQOHI3Z.js";import"./chunk-5H2Z45P4.js";import"./chunk-RVPPSBWD.js";import"./chunk-MWYR6VMH.js";import"./chunk-QTYAOHU5.js";import"./chunk-QZNZNR6Z.js";import{a as oe}from"./chunk-PXZDP5KE.js";import{a as I}from"./chunk-UNKS6JF4.js";import{b as ie}from"./chunk-MQIFBFZZ.js";import"./chunk-CVO6T746.js";import"./chunk-ECQ6XKT3.js";import"./chunk-RM2SUUDH.js";import{a as R}from"./chunk-6GNLP6OM.js";import{c as ae}from"./chunk-D4PXVVUY.js";import"./chunk-LICX6DKQ.js";import"./chunk-B2ZHFSGF.js";import{a as v}from"./chunk-TXDFFIFR.js";import{a as me}from"./chunk-5JE6U2N2.js";import{e as D,g as w,h as S,n as x}from"./chunk-RV6LFV4E.js";import{D as te,E as ne}from"./chunk-MXPAX6UE.js";import"./chunk-K7PNGXRF.js";import"./chunk-I7VYXJU2.js";import{a as J,e as K,f as X,g as Y,i as Z,l as ee}from"./chunk-BI6U2PF7.js";import{a as pe,b as ce,c as le,d as de,f as fe,g as _e,h as ue,i as Ce}from"./chunk-JJTHNE76.js";import{a as W}from"./chunk-OOV3P5QF.js";import"./chunk-PKBC2DEO.js";import{$b as F,Ca as z,F as A,Gc as P,Ic as g,Jc as h,Nb as l,Ob as L,Pb as B,Qb as U,Sb as p,Xb as C,Zb as N,_b as y,ac as i,bc as a,cc as r,gc as V,hb as M,ie as Q,jc as T,ka as m,lb as o,lc as f,t as E,ua as $,ub as u,va as j,wc as _,xc as q,yc as O}from"./chunk-3DLDMRAG.js";var ve=(()=>{class e{router=m(w);destroyRef=m(z);authenticationFacade=m(me);layoutFacade=m(ie);ngOnInit(){this.authenticationFacade.auth$.pipe(v(this.destroyRef)).subscribe(t=>{t&&(this.layoutFacade.loadNavLinks(t.roles),this.waitingForLogout())}),this.authenticationFacade.load()}waitingForLogout(){this.authenticationFacade.auth$.pipe(v(this.destroyRef)).subscribe(t=>{t===null&&(this.layoutFacade.resetNavLinks(),this.router.navigateByUrl("/conta/autenticacao"))})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=u({type:e,selectors:[["devmx-presentation-feature-shell"]],decls:1,vars:0,template:function(n,c){n&1&&r(0,"devmx-layout")},dependencies:[x,oe],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0})}return e})();var Me=e=>H(m(k),e.params);function we(e,s){if(e&1&&r(0,"img",7),e&2){let t=f();p("src",t.cover,M)("alt",t.title)}}function Se(e,s){if(e&1&&(i(0,"mat-list-item"),r(1,"devmx-icon",13),i(2,"div",9)(3,"a",14),_(4),a()()()),e&2){let t=s.$implicit;o(3),p("href",t,M),o(),O(" ",t," ")}}function ke(e,s){if(e&1&&(i(0,"mat-list")(1,"h3",12),_(2,"Materiais"),a(),y(3,Se,5,2,"mat-list-item",null,N),a()),e&2){let t=f();o(3),F(t.resources)}}function be(e,s){if(e&1&&(i(0,"mat-card",0)(1,"mat-card-header",1)(2,"a",2),r(3,"devmx-icon",3),a(),i(4,"mat-card-title",4),_(5),a(),i(6,"a",5),r(7,"devmx-icon",6),a()(),l(8,we,1,2,"img",7),i(9,"mat-list")(10,"mat-list-item"),r(11,"devmx-icon",8),i(12,"div",9),_(13),g(14,"presentationFormat"),a()()(),i(15,"mat-card-content"),r(16,"devmx-markdown",10),a(),l(17,ke,5,0,"mat-list"),i(18,"mat-card-header"),r(19,"img",11),g(20,"photo"),i(21,"mat-card-title"),_(22),a(),i(23,"mat-card-subtitle"),_(24," Autor "),a()()()),e&2){let t=s;o(5),O(" ",t.title," "),o(3),C(t.cover?8:-1),o(5),q(h(14,8,t.format)),o(3),p("content",t.description),o(),C(t.resources.length?17:-1),o(2),p("src",h(20,10,t.owner.profile==null?null:t.owner.profile.photo),M)("alt",t.owner.displayName),o(3),O(" ",t.owner.displayName," ")}}var ye=(()=>{class e{route=m(D);presentation$=this.route.data.pipe(A(t=>"presentation"in t),E(t=>t.presentation));static \u0275fac=function(n){return new(n||e)};static \u0275cmp=u({type:e,selectors:[["devmx-presentation-details"]],decls:2,vars:3,consts:[[1,"presentation-card"],[1,"presentation-card-header","sticky"],["mat-card-avatar","","routerLink","..","mat-icon-button",""],["name","arrow/left"],[1,"presentation-card-header-title"],["routerLink","..","mat-icon-button",""],["name","close-cross"],["mat-card-image","",3,"src","alt"],["matListItemIcon","","name","user-presentation"],["matListItemTitle",""],[3,"content"],["mat-card-avatar","",3,"src","alt"],["mat-subheader",""],["matListItemIcon","","name","external-link"],["target","_blank","rel","noopener noreferrer",3,"href"]],template:function(n,c){if(n&1&&(l(0,be,25,12,"mat-card",0),g(1,"async")),n&2){let d;C((d=h(1,1,c.presentation$))?0:-1,d)}},dependencies:[x,S,Ce,pe,ue,le,fe,_e,de,ce,ee,X,Y,K,Z,J,ne,te,W,se,he,re,Q],styles:["[_nghost-%COMP%]{flex:1;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .presentation-card[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .presentation-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 16px;font-size:1.2em;font-weight:500;opacity:.6}[_nghost-%COMP%]   .presentation-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-line;line-height:1.2em;word-wrap:break-word}[_nghost-%COMP%]   .presentation-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link:hover{text-decoration:underline}[_nghost-%COMP%]   .presentation-card-header[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}[_nghost-%COMP%]   .presentation-card-header[_ngcontent-%COMP%]   .mat-mdc-card-avatar[_ngcontent-%COMP%]{margin-bottom:0}"],changeDetection:0})}return e})();var Le=(e,s)=>s.id,Te=()=>[I,ae,import("./chunk-GYYG4ZVP.js").then(e=>e.AsyncPipe)],Ie=()=>[xe,S],Re=e=>[e],Ee=e=>({right:e}),Ae=e=>({outlets:e}),$e=e=>["/","apresentacoes",e];function je(e,s){if(e&1&&(i(0,"a",4),r(1,"devmx-presentation-card",5),a()),e&2){let t=f().$implicit;p("routerLink",P(8,$e,P(6,Ae,P(4,Ee,P(2,Re,t.id))))),o(),p("data",t)}}function ze(e,s){e&1&&r(0,"devmx-skeleton",6),e&2&&p("rows",3)}function Be(e,s){e&1&&(l(0,je,2,10)(1,ze,1,1),L(2,0,Ie,null,1),U(0,-1))}function Ue(e,s){if(e&1){let t=V();i(0,"div",1),y(1,Be,4,0,null,null,Le),a(),r(3,"div",2),i(4,"footer")(5,"devmx-paginator",3),T("pageChange",function(c){$(t);let d=f(2);return j(d.onPageChange(c))}),a()()}if(e&2){let t=s;o(),F(t.data),o(4),p("size",10)("items",t.items)}}function Ne(e,s){if(e&1&&(l(0,Ue,6,2),g(1,"async")),e&2){let t,n=f();C((t=h(1,1,n.presentationFacade.response$))?0:-1,t)}}function Ve(e,s){e&1&&(i(0,"div",1),r(1,"devmx-skeleton",6)(2,"devmx-skeleton",6)(3,"devmx-skeleton",6),a()),e&2&&(o(),p("rows",3),o(),p("rows",2),o(),p("rows",3))}var Fe=(()=>{class e{presentationFacade=m(k);router=m(w);route=m(D);constructor(){this.route.queryParams.pipe(v()).subscribe(this.onQueryParams)}onQueryParams=t=>{let{page:n=0,size:c=10}=t,{title:d="",format:b=""}=t,Oe={title:d,format:b};this.presentationFacade.setParams({page:n,size:c,filter:Oe}),this.presentationFacade.load()};onFilterChange(t){let n={format:t};this.router.navigate([],{queryParams:n})}onPageChange(t){this.router.navigate([],{queryParams:t})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=u({type:e,selectors:[["devmx-presentations"]],decls:6,vars:0,consts:[[3,"change"],[1,"presentations-container"],[1,"spacer"],[3,"pageChange","size","items"],[3,"routerLink"],[3,"data"],[3,"rows"]],template:function(n,c){n&1&&(i(0,"header")(1,"devmx-presentation-filter",0),T("change",function(b){return c.onFilterChange(b)}),a()(),l(2,Ne,2,3)(3,Ve,4,3),L(4,2,Te,null,3),B(500))},dependencies:[I,ge,x],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;padding:.4em .8em}[_nghost-%COMP%]   .presentations-container[_ngcontent-%COMP%]{gap:1em;padding:1em;display:grid;grid-auto-flow:dense;grid-template-columns:repeat(4,1fr)}@media (max-width: 1918px){[_nghost-%COMP%]   .presentations-container[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1278px){[_nghost-%COMP%]   .presentations-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 767px){[_nghost-%COMP%]   .presentations-container[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}[_nghost-%COMP%]   .presentations-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{flex:1;display:flex}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],changeDetection:0})}return e})();var jt=[{path:"",providers:[...G()],data:{breadcrumb:"Apresenta\xE7\xF5es"},canActivate:[R("member")],component:ve,children:[{path:"administracao",canActivate:[R("speaker","director","manager","staff")],loadChildren:()=>import("./chunk-KXC44NST.js").then(e=>e.presentationFeatureAdminRoutes)},{path:"",component:Fe},{path:":id",data:{breadcrumb:e=>e.presentation.title},resolve:{presentation:Me},component:ye,outlet:"right"}]}];export{ve as PresentationFeatureShellComponent,jt as presentationFeatureShellRoutes};
